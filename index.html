<!DOCTYPE html>
<html>
    <head>
		<meta charset="utf-8">
        <title>Hydropoc</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="verdammt">
        <meta name="keywords" content="lol,wtf">
        <meta name="copyright" content="IN20">
        <link rel="icon" href="img/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/fontawesome.css">
        <link rel="stylesheet" href="css/dataTables.bootstrap5.min.css">
        <link rel="stylesheet" href="css/bootstrap4-toggle.min.css">
        <script src="js/jquery-3.6.0.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/datatables.min.js"></script>
        <script src="js/dataTables.bootstrap5.min.js"></script>
        <script src="js/chart.min.js"></script>
        <script src="js/bootstrap4-toggle.min.js"></script>
        <script>
            Chart.register("filler");
            const charts = {
                current: {
                    co2: {},
                    temperature: {},
                    salinity: {},
                    ph: {},
                    waterlevel: {},
                    ventilation: {},
                    brightness: {}
                },
                history: {}
            };
            const dataTablesLocalization = {
                sEmptyTable: "Keine Daten vorhanden",
                sInfo: "_START_ bis _END_ von _TOTAL_ Einträgen",
                sInfoEmpty: "0 bis 0 von 0 Einträgen",
                sInfoFiltered: "(gefiltert aus _MAX_ Einträgen)",
                sInfoPostFix: "",
                sInfoThousands: ".",
                sLengthMenu: "_MENU_ Einträge anzeigen",
                sLoadingRecords: "Wird geladen...",
                sProcessing: "Bitte warten...",
                sSearch: "Suchen:",
                sZeroRecords: "Keine Einträge vorhanden.",
                oPaginate: {
                    sFirst: "Erste",
                    sPrevious: "Zurück",
                    sNext: "Nächste",
                    sLast: "Letzte"
                },
                oAria: {
                    sSortAscending: ": aktivieren, um Spalte aufsteigend zu sortieren",
                    sSortDescending: ": aktivieren, um Spalte absteigend zu sortieren"
                }
            }
            // Aktorensimulation
            const actuators = {
                co2: {enabled: 0},
                temperature: {enabled: 0},
                salinity: {enabled: 0},
                ph: {enabled: 0},
                waterlevel: {enabled: 0},
                ventilation: {enabled: 0},
                brightness: {enabled: 0}
            };
            var isLoadingCurrentChartData = false;
            var currentChartPlant = null; // Aktuell gewählte Pflanze für Diagramme
            function switchAlert(element, type) {
                type = type.toLowerCase();
                element = $("#section-" + element)[0];
                if (["danger", "warning", "success"].includes(type) && !Object.values(element.classList).includes(type)) {
                    $(element).removeClass("danger warning success").addClass(type);
                }
            }
            function getCSSVar(val) {
                return getComputedStyle($(":root")[0]).getPropertyValue(val);
            }
            function getGradient(context, chartArea, data) {
                let gradient = context.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                let steps = Object.getOwnPropertyNames(data);
                for (step of steps) {
                    gradient.addColorStop(step, data[step]);
                }
                return gradient;
            }
            document.addEventListener("DOMContentLoaded", function(event) {
                // Hier alle Skripte ausführen, die auf DOM zugreifen sollen
                $(".config-chart-button").click(function() {
                    $("#chartHistoryElementTitle").html($(this).attr("data-chart-title"));
                    $("#historyTimespan").attr("data-chart", $(this).attr("data-chart"));
                });
                $.get("dataTables_test.php", {type: "plants"}).done(function(response) {
                    let data = JSON.parse(response);
                    let plants = data["data"][0];
                    for (plant of plants) {
                        $("#plantSelection").append("<option value='" + plant + "'>" + plant + "</option>");
                    }
                    $("#plantSelection").val(plants[0]);
                    currentChartPlant = plants[0];
                });
                let aso = new Date();
                $("footer").html("&copy; " + (aso.getFullYear() >= 2022 ? "2021-" + aso.getFullYear() : aso.getFullYear()) + " Deine Mutter")
                // DataTable für Benutzerkonten
                $("#user-actions-accordion").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#usersTable")) {
                        var usersTable = $("#usersTable").DataTable({
                            order: [1, "asc"],
                            language: dataTablesLocalization,
                            columns: [
                                { name: "fullName", data: "fullName" },
                                { name: "userName", data: "userName" },
                                { name: "creationDate", data: "creationDate" },
                                { name: "status", data: "status" },
                                { name: "actions", data: "actions" },
                            ]/*,
                            columnDefs: [
                                { className: "p-2", targets: [4] }
                            ]
                            ajax: {
                                url: "{{ url('api/people/admin/manageUsers/datatables/facets') }}",
                                type: 'GET',
                                dataSrc: function(response) {
                                    keys = Object.getOwnPropertyNames(response["sections"]);
                                    keys.sort();
                                    $("#group").empty();
                                    for (key of keys) {
                                        $("#group").append("<option value='" + key + "'>" + response["sections"][key] +  "</option>");
                                    }
                                    return response.data;
                                }
                            }*/
                        });
                    }
                });
                $("#plants-programs-accordion").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#adminPlantsProgramsTableTable")) {
                        var logTable = $("#adminPlantsProgramsTable").DataTable({
                            order: [1, "asc"],
                            language: dataTablesLocalization,
                            orderFixed: [1, "asc"],
                            rowGroup: {
                                dataSrc: "plant",
                                className: "bg-gray-200", 
                                /*function() {
                                    return "font-weight-bold " + this.textContent.toLowerCase();
                                }*/
                            },
                            columns: [
                                { name: "plant", data: "plant", visible: false },
                                { name: "name", data: "name" },
                                { name: "description", data: "description" },
                                { name: "actions", data: "actions" }
                            ],
                            ajax: {
                                url: "dataTables_test.php",
                                type: 'GET',
                                data: {
                                    type: "plantsprograms"
                                },
                                dataSrc: function(response) {
                                    console.log(response["data"]);
                                    return response["data"];
                                }
                            }
                        });
                    }
                });
                // DataTable für Logs
                $("#collapse-logs-actions").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#logTable")) {
                        var logTable = $("#logTable").DataTable({
                            order: [0, "asc"],
                            language: dataTablesLocalization,
                            columns: [
                                { name: "timestamp", data: "timestamp" },
                                { name: "message", data: "message" }
                            ],
                            columnDefs: [
                                { width: "25%", targets: [0] },
                                { width: "75%", targets: [1] }
                            ]/*,
                            ajax: {
                                url: "{{ url('api/people/admin/manageUsers/datatables/facets') }}",
                                type: 'GET',
                                dataSrc: function(response) {
                                    keys = Object.getOwnPropertyNames(response["sections"]);
                                    keys.sort();
                                    $("#group").empty();
                                    for (key of keys) {
                                        $("#group").append("<option value='" + key + "'>" + response["sections"][key] +  "</option>");
                                    }
                                    return response.data;
                                }
                            }*/
                        });
                    }
                });
                // Aktuell
                charts["current"]["co2"] = new Chart($("#co2-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect",
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        },
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["co2"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["temperature"] = new Chart($("#temperature-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["temperature"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["salinity"] = new Chart($("#salinity-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["salinity"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["waterlevel"] = new Chart($("#waterlevel-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["waterlevel"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["ph"] = new Chart($("#ph-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["ph"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["ventilation"] = new Chart($("#ventilation-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["ventilation"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["brightness"] = new Chart($("#brightness-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["brightness"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["history"] = new Chart($("#charts-history")[0].getContext("2d"), {
                    type: "line",
                    options: {
                        plugins: {
                            legend: {
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect",
                                    font: {
                                        size: 14,
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["history"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: {
                                min: 0,
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    data: {
                        datasets: [
                            {
                                label: "Messwert",
                                stack: "measured",
                                borderColor: "rgb(219, 112, 147)",
                                backgroundColor: "rgba(219, 112, 147, 0.75)",
                                borderWidth: 1,
                                pointStyle: "circle",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(219, 112, 147, 0.5)", 1: "rgba(219, 112, 147, 0.5)"});
                                    }
                                }
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "rgb(0, 255, 0)",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Höchstwert",
                                stack: "highest",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                pointStyle: "circle"
                            },
                            {
                                label: "Tiefstwert",
                                stack: "lowest",
                                borderColor: "rgb(72, 61, 139)",
                                backgroundColor: "rgba(72, 61, 139, 0.75)",
                                borderWidth: 2,
                                pointStyle: "circle"
                            }
                        ]
                    }
                });
                let dropDowns = $("[data-bs-toggle='collapse']");
                for (dropDown of dropDowns) {
                    $(dropDown).click(function() {
                        $(this).children("i:last-of-type").css("transform", ($(this).attr("aria-expanded") == "true" ? "rotate(180deg)" : "rotate(0deg)"));
                    });
                }
                $("#historyTimespan").change(function() {
                    $(this).attr("disabled", "disabled").after("<span class='spinner-border ms-2 text-primary kreiselchen' data-processing='true'></span>");
                    $.post("history_charts_data.php", {
                        chart: $(this).attr("data-chart"),
                        lol: $(this).val()
                    }).done(function(response) {
                        let data = JSON.parse(response);
                        charts["history"]["data"]["labels"] = data["labels"];
                        let charts_ = Object.keys(data["data"]);
                        for (chart of charts_) {
                            let index = charts["history"]["data"]["datasets"].findIndex(key => key.stack === chart);
                            if (index >= 0 && data["data"][chart] !== null) {
                                Object.assign(charts["history"]["data"]["datasets"][index]["data"], data["data"][chart]);
                                charts["history"]["options"]["scales"]["x"]["min"] = data["labels"][0];
                                charts["history"]["options"]["scales"]["x"]["max"] = data["labels"][data["labels"].length -1];
                            }
                        }
                        charts["history"].update("none");
                    }).always(function() {
                        $("[data-processing='true']").remove();
                        $("#historyTimespan").removeAttr("disabled");
                    });
                });
                // Neue Daten vom Server laden
                setInterval(function() {
                    // "current" gilt für das Diagramm der letzten Minute, "history" ist für das Verlaufsdiagramm
                    if (!isLoadingCurrentChartData) {
                        isLoadingCurrentChartData = true;
                        $.post("current_charts_data.php", {
                            labels: JSON.stringify(charts["current"]["co2"]["data"]["labels"]),
                            actuators: JSON.stringify(actuators)
                        }).done(function(response) {
                            let data = JSON.parse(response);
                            let items = Object.keys(data);
                            // item = Sensor, z.B. co2
                            for (item of items) {
                                if (charts["current"].hasOwnProperty(item)) {
                                    // chart z.B. "current"
                                    Object.assign(charts["current"][item]["data"]["labels"], data[item]["labels"]);
                                    let charts_ = Object.keys(data[item]["data"]); // current, setpoint, mean
                                    for (chart of charts_) {
                                        let index = charts["current"][item]["data"]["datasets"].findIndex(key => key.stack === chart);
                                        if (index >= 0 && data[item]["data"][chart] !== null) {

                                            // Aktorenaktionen
                                            if (chart == "actuator" && data[item]["data"]["actuator"]["enabled"] == 1) {
                                                currentIndex = charts["current"][item]["data"]["datasets"].findIndex(key => key.stack === "current");
                                                if (charts["current"][item]["data"]["datasets"][index]["data"].length >= 13) {
                                                    charts["current"][item]["data"]["datasets"][index]["data"].shift();
                                                }
                                                let lastXPosition = charts["current"][item]["data"]["datasets"][currentIndex]["data"].length -1;
                                                let lastXValue = charts["current"][item]["data"]["datasets"][currentIndex]["data"][lastXPosition]["x"];
                                                if (lastXValue == data[item]["data"]["actuator"]["data"]["x"]) {
                                                    // Letztes Element löschen, damit nicht zwei gleiche X-Werte angezeigt werden
                                                    charts["current"][item]["data"]["datasets"][currentIndex]["data"].splice(lastXPosition, 1);
                                                }
                                                // Damit Objekte wirklich zugewiesen werden, statt als Referenz!
                                                Object.assign(actuators[item], data[item]["data"]["actuator"]);
                                                delete actuators[item]["data"];
                                                if (data[item]["data"]["actuator"]["count"] == 0) {
                                                    actuators[item]["enabled"] = 0;
                                                }
                                                charts["current"][item]["data"]["datasets"][index]["data"].push(data[item]["data"]["actuator"]["data"]);
                                                charts["current"][item]["data"]["datasets"][currentIndex]["data"].push(data[item]["data"]["actuator"]["data"]);
                                            }
                                            else {
                                                if (charts["current"][item]["data"]["datasets"][index]["data"].length >= 13) {
                                                    charts["current"][item]["data"]["datasets"][index]["data"].shift();
                                                }
                                                charts["current"][item]["data"]["datasets"][index]["data"].push(data[item]["data"][chart]);
                                                charts["current"][item]["options"]["scales"]["x"]["min"] = data[item]["labels"][0];
                                                charts["current"][item]["options"]["scales"]["x"]["max"] = data[item]["labels"][data[item]["labels"].length -1];
                                                // Wenn Wert kleiner gleich Warnwert
                                                /*if ((Number(data[item]["data"]["current"]["y"]) <= Number(data[item]["data"]["lowerWarningLimit"]["y"]) && Number(data[item]["data"][chart]["y"]) > Number(data[item]["data"]["lowerControlLimit"]["y"])) || (Number(data[item]["data"]["current"]["y"]) >= Number(data[item]["data"]["upperWarningLimit"]["y"]) && Number(data[item]["data"][chart]["y"]) < Number(data[item]["data"]["upperControlLimit"]["y"]))) {
                                                    switchAlert(item, "warning");
                                                }
                                                else if ((Number(data[item]["data"]["current"]["y"]) >= Number(data[item]["data"]["upperControlLimit"]["y"]) && Number(data[item]["data"]["current"]["y"]) > Number(data[item]["data"]["upperWarningLimit"]["y"])) || (Number(data[item]["data"]["current"]["y"]) <= Number(data[item]["data"]["lowerControlLimit"]["y"]) && Number(data[item]["data"][chart]["y"]) < Number(data[item]["data"]["lowerWarningLimit"]["y"]))) {
                                                    switchAlert(item, "danger");
                                                    console.log("joo");
                                                }
                                                else {
                                                    switchAlert(item, "success");
                                                }*/
                                            }
                                        }
                                    }
                                    charts["current"][item].update("none"); // Sehr rechenintensiv bei zeitgleicher Aktualisierung aller Diagramme
                                    $("#section-" + item + "> div:last-of-type > canvas").css("visibility", "visible");
                                    $("#section-" + item + "> div:last-of-type > .chart-overlay ").css("display", "none");
                                    //$("#section-" + item + "> button.config-chart-button ").css("display", "block");
                                }
                            }
                        }).always(function() {
                            isLoadingCurrentChartData = false;
                        });
                    }
                }, 5000);
                /*
                var source = new EventSource("");
                source.onmessage = function (event) {
                    console.log(event.data);
                    let statsText = "";
                    let keys = Object.keys(event.data);
                    for (key of keys) {
                        statsText += "<tr><td>" + key + "</td><td>" + event.data[key] + "</td></tr>";
                    }
                    $("#systemStatsTable").html(statsText);
                };*/
            });
        </script>
        <style>
            @font-face {
                font-family: "Font Awesome 5 Brands";
                font-style: normal;
                font-weight: 400;
                font-display: block;
                src: url("font/free-fa-brands-400.woff") format("woff");
            }
            @font-face {
                font-family: "Font Awesome 5 Free";
                font-style: normal;
                font-weight: 400;
                font-display: block;
                src: url("font/free-fa-regular-400.woff") format("woff"),
            }
            @font-face {
                font-family: "Font Awesome 5 Pro";
                font-style: normal;
                font-weight: 400;
                font-display: block;
                src: url("font/free-fa-regular-400.woff") format("woff")
            }
            @font-face {
                font-family: "Font Awesome 5 Free";
                font-style: normal;
                font-weight: 900;
                font-display: block;
                src: url("font/free-fa-solid-900.woff") format("woff")
            }
            @font-face {
                font-family:"Font Awe0some 5 Pro";
                font-style: normal;
                font-weight: 900;
                font-display: block;
                src: url("fonts/free-fa-solid-900.woff") format("woff")
            }
            :root {
                --alert-color-warning: #cd853f;
                --alert-background-warning: #f7e8cd;
                --alert-color-danger: #dc143c;
                --alert-background-danger: #ffe4e1;
                --alert-color-success: #228b22;
                --alert-background-success: #c0edc0;
                --chart-background-danger: #dc143c80;
                --chart-border-danger: #dc143cbf;
                --chart-background-warning: #cd853f80;
                --chart-border-warning: #cd853fbf;
                --chart-background-success: #228b2280;
                --chart-border-success: #228b22bf;
                --chart-background-info: #0dcaf080;
                --chart-border-info: #0dcaf0bf;
            }
            body {
                display: grid;
                grid-gap: 0;
                grid-template-rows: auto 1fr 71px;
                overflow-x: hidden;
                min-height: 100vh; 
                background-color: #f4f2e0;
                align-content: flex-start;
                background-image: url("img/moo.png");
                background-repeat: repeat;
                background-blend-mode: color;
            }
            main {
                grid-column: 1 / 3;
                grid-row: 2 / 2;
			    display: flex;
    			align-items: flex-start;
                justify-content: center;
                padding: 0 5%;
            }
            main > div.row:first-of-type {
                flex: 0 1 100%;
                /*max-width: 1790px;*/
            }
            header {
                grid-column: 1 / 3;
                grid-row: 1 / 1;
                display: flex;
                flex-direction: column;
                align-self: flex-start;
                background-image: linear-gradient(90deg, #32887c, #458084, #32887c);
                border-top: 1px solid #76a5a8;
                border-bottom: 1px solid #76a5a8;
                height: 50px;
		    	color: #fff;
                justify-content: center;
            }
            #logo {
                background-image: url("img/logo.png");
                background-size: 115px 32px;
                background-repeat: no-repeat;
                width: 115px;
                height: 32px;
            }
            footer {
                height: 50px;
                color: white; 
                grid-column: 1 / 3;
                grid-row: 3 / 3;
                align-self: flex-end;
                background-image: linear-gradient(90deg, #32887c, #458084, #32887c);
                border-top: 1px solid #76a5a8;
                border-bottom: 1px solid #76a5a8;
                text-shadow: 0 1px 0 black;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            [data-bs-toggle="collapse"] > i {
                transition: transform 250ms;
            }
            #overview-panel {
                display: grid;
                /* Höhe */
                /*grid-auto-rows: 350px;*/
                grid-auto-rows: minmax(350px, auto);
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
                /* Breite */ 
                /*grid-template-columns: repeat(auto-fit, minmax(0, min(100%/2, max(350px, 100%/5))));*/
                /*repeat(auto-fill, 350px)*/
                grid-gap: 10px;
                align-content: flex-start;
                justify-content: space-between
            }
	    	section.lol {
                border: 2px solid var(--bs-gray-300, #dee2e6)
		    }
            section.lol div:first-of-type {
                flex: 0 0 28px
            }
	    	section.lol > div:first-of-type > span:first-of-type {
                font-weight: bold;
                font-size: 1rem;
                vertical-align: middle;
                color: var(--bs-gray-600, #6c757d)
            }
            canvas[id$="-chart-current"] {
                visibility: hidden
            }
            .chart-overlay > h2 {
                color: var(--bs-gray-500);
                margin: 0
            }
            .chart-overlay {
                position: absolute;
                z-index: 2;
                width: 100%;
                height: 100%;
                align-items: center;
                align-content: center;
                justify-content: center;
                display: flex
            }
            section.lol.warning {
                background-color: var(--alert-background-warning);
                border: 2px dashed var(--alert-color-warning);
                animation: background-flashing-warning 3s linear 0s infinite
            }
            section.lol.danger {
                background-color: var(--alert-background-danger);
                border: 2px dashed var(--alert-color-danger);
                animation: background-flashing-danger 1s linear 0s infinite
            }
            .tab-content:not(.tab-content-simple) {
                background-color: #fbfbfb;
                border-bottom-left-radius: 5px;
                border-bottom-right-radius: 5px;
                border-top-right-radius: 5px;
                box-shadow: 0 1px 4px 0px var(--bs-gray-600, #6c757d);
            }
            #tabNavigation {
                border-bottom-width: 0 !important;
            }
            #tabNavigation .nav-link.active::after {
                content: "";
                position: absolute;
                width: 100%;
                height: 20px;
                left: 0;
                bottom: -10px;
                z-index: 10;
                background-color: #fbfbfb;
                display: block
            }
            #tabNavigation .nav-item {
                position: relative
            }
            #tabNavigation .nav-item:first-of-type::after {
                content: "";
                position: absolute;
                width: 6px;
                height: 5px;
                right: -3px;
                bottom: -6px;
                z-index: 10;
                background-color: #fbfbfb;
            }
            #tabNavigation .nav-item:last-of-type::after {
                content: "";
                position: absolute;
                width: 6px;
                height: 5px;
                right: -3px;
                bottom: -6px;
                z-index: 10;
                background-color: #fbfbfb;
            }
            #tabNavigation .nav-item:first-of-type .nav-link.active::before {
                content: "";
                position: absolute;
                width: 1px;
                height: 40px;
                left: -1px;
                bottom: -20px;
                z-index: 10;
                background-color: var(--bs-gray-300, #dee2e6);
            }
            #tabNavigation .nav-link.active {
                background-color: #fbfbfb !important;
                border-bottom-color: #fbfbfb !important;
                position: relative;
                box-shadow: 0 1px 4px 0px var(--bs-gray-600, #6c757d)
            }
            #tabNavigation .nav-link.disabled {
                border: 1px solid var(--bs-gray-200, #e9ecef) !important;
            }
            #tabNavigation a.nav-link:not(.disabled, .active):hover, #tabNavigation a.nav-link:not(.disabled, .active):active,
            #tabNavigation a.nav-link:not(.disabled, .active):focus {
                border: 1px solid var(--bs-gray-300, #dee2e6) !important;
                border-bottom: 1px solid transparent !important
            }
            nav {
                flex: 1 0 100%;
            }
            #first-navbar > li:not(:first-of-type, :last-of-type) {
                margin-left: 8px;
            }
            #second-navbar > li:not(:first-of-type, :last-of-type) {
                margin-right: 8px;
            }
            #navigation > ul > li > a:not(.disabled), #navigation > ul > li > a:not(.disabled):visited {
                color: white;
            }
            #navigation > ul > li > a {
                text-shadow: 0 1px 0 black
            }
            #navigation > ul > li > a:not(.disabled):hover, #navigation > ul > li > a:not(.disabled):active, #navigation > ul > li > a.active {
                color: black !important;
                background-color: #fbfbfb;
                box-shadow: 0 1px 1px 0px rgba(0, 0, 0, 0.5);
                text-shadow: 0 0 0 transparent
            }
            .card-header {
                padding: 0 !important;
            }
            hr {
                opacity: 1 !important;
            }
            table {
                border-spacing: 0;
                border-radius: 2px;
                border-collapse: separate !important;
                overflow: hidden;
            }
            table > thead > tr > th:first-of-type {
                border-top-left-radius: 2px;
            }
            table > thead > tr > th:last-of-type {
                border-top-right-radius: 2px;
            }
            table > thead > tr > th {
                border-left: 1px solid var(--bs-gray-300, #dee2e6) !important;
                border-top: 1px solid var(--bs-gray-300, #dee2e6) !important;
                border-bottom: 2px solid var(--bs-gray-300, #dee2e6) !important;
                background-color: #f7f7f7 !important
            }
            table:not(.table-borderless) > thead > tr > th:last-of-type {
                border-right: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table:not(.table-borderless) > tbody > tr > td {
                border-left: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table:not(.table-borderless) > tbody > tr > td:last-of-type {
                border-right: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table:not(.table-borderless) > tbody > tr:last-of-type > td {
                border-bottom: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table:not(.table-borderless) > tbody > tr:last-of-type > td:first-of-type {
                border-bottom-left-radius: 2px
            }
            table:not(.table-borderless) > tbody > tr:last-of-type > td:last-of-type {
                border-bottom-right-radius: 2px
            }
            i.user-offline {
                color: var(--alert-color-danger);
                text-shadow: 0 0 3px var(--alert-color-danger);
            }
            .section-header > h3 > i:first-of-type {
                vertical-align: top;
                font-size: larger;
            }
            i.user-online {
                color: var(--alert-color-success);
                text-shadow: 0 0 3px var(--alert-background-success);
            }
            @keyframes flashing {
                0% { opacity: 0; }
                50% { opacity: 1; }
                100% { opacity: 0; }
            }
            @keyframes background-flashing-danger {
                0% { background-color: #ffffff }
                50%  { background-color: var(--alert-background-danger) }
                100% { background-color: #ffffff }
            }
            @keyframes background-flashing-warning {
                0% { background-color: #ffffff }
                50%  { background-color: var(--alert-background-warning) }
                100% { background-color: #ffffff }
            }
            i.project-admin {
                font-size: larger;
                color: goldenrod
            }
            i.site-admin {
                font-size: larger;
                color: silver
            }
            table.dataTable > thead .sorting::before, table.dataTable > thead .sorting_asc::before, 
            table.dataTable > thead .sorting_desc::before, table.dataTable > thead .sorting_asc_disabled::before, 
            table.dataTable > thead .sorting_desc_disabled::before,
            table.dataTable > thead .sorting::after, table.dataTable > thead .sorting_asc::after,
            table.dataTable > thead .sorting_desc::after, table.dataTable > thead .sorting_asc_disabled::after,
            table.dataTable > thead .sorting_desc_disabled::after {
                content: "" !important;
                right: auto !important
            }
            table.dataTable thead .sorting {
                position: relative
            }
            table.dataTable thead .sorting::after {
                position: absolute;
                width: 100%;
                height: 100%;
                right: 5px !important;
                top: 0 !important;
                opacity: 0.5 !important;
                background-repeat: no-repeat;
                background-position-x: right;
                background-position-y: center;
                background-size: 16px 16px;
                background-image: url("img/iconmonstr-sort-2.svg")
            }
            table.dataTable thead .sorting_desc::after {
                background-image: url("img/iconmonstr-sort-3.svg") !important
            }
            table.dataTable thead .sorting_asc::after {
                background-image: url("img/iconmonstr-sort-4.svg") !important
            }
            .dataTables_scrollHeadInner {
                padding-right: 0 !important;
                width: 100% !important
            }
            .dataTables_scrollBody > table th {
                border-width: 0 !important
            }
            .dataTables_wrapper > .row:last-of-type {
                margin-top: 24px
            }
            .table-responsive {
                max-height: 400px
            }
            /* Vorladen von Sortierungssymbolen in Tabellen */
            body::after {
                position: absolute;
                width: 0;
                height: 0;
                z-index: -1;
                overflow: hidden;
                content: url("img/iconmonstr-sort-2.svg") url("img/iconmonstr-sort-3.svg") url("img/iconmonstr-sort-4.svg")
            }
            .config-chart-button {
                right: 15px;
                position: absolute;
                z-index: 3;
            }
            .kreiselchen {
                flex: 0 0 auto;
                width: 20px;
                height: 20px
            }
            .bg-gray-200 {
                background-color: var(--bs-gray-200, #e9ecef);
                font-weight: 600;
            }
        </style>
	</head>
    <body class="m-0 p-0">
        <header>
            <nav class="navbar navbar-expand-sm p-0" id="navigation">
                <a class="navbar-brand ms-3 mb-0" href="#">
                    <div id="logo"></div>
                </a>
                <ul class="navbar-nav" id="first-navbar">
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#" data-bs-toggle="modal" data-bs-target="#staffModal"><i class="fas fa-users"></i> Mitwirkende</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#" data-bs-toggle="modal" data-bs-target="#systemStatsModal"><i class="fas fa-hdd"></i> Systeminformationen</a>
                    </li>
                </ul>
                <!--
                    <li class="nav-item">
                        <a class="nav-link active rounded-3" href="#" id="randomizeData">Active</a>
                    </li>
                   <li class="nav-item">
                      <a class="nav-link rounded-3" href="#">Link</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#"></a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link disabled rounded-3" href="#">Disabled</a>
                    </li>
                </ul>
            -->
                <ul class="navbar-nav mt-auto me-2 mb-auto ms-auto" id="second-navbar">
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#" data-bs-toggle="modal" data-bs-target="#loginModal"><i class="fas fa-sign-in-alt"></i> Anmelden</a>
                    </li>
                    <!-- Es darf immer nur eine Aktion möglich sein -->
                    <li class="nav-item d-none">
                        <a class="nav-link rounded-3" href="#"><i class="fas fa-sign-out-alt"></i> Abmelden</a>
                    </li>
                </ul>
            </nav>
        </header>
        <main>
            <div class="row justify-content-center">
                <div class="mt-4 p-0" id="panel">
                    <ul class="nav nav-tabs" id="tabNavigation">
                        <li class="nav-item">
                          <a class="nav-link active" data-bs-toggle="tab" href="#overview">Übersicht</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" data-bs-toggle="tab" href="#administration">Administration</a>
                          <!-- class="nav-link disabled" -->
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#about">About</a>
                        </li>
                    </ul>
                    <div class="tab-content p-4 border">
                        <div class="tab-pane active" id="overview">
                            <div class="d-inline-flex align-items-center mb-3">
                                <label for="plantSelection">Pflanze:</label>
                                <select class="form-select ms-2 w-auto" id="plantSelection">
                                </select>
                                <label for="plantProgramSelection" class="ms-2">Programm:</label>
                                <select class="form-select ms-2 w-auto" id="plantProgramSelection">
                                    <option value="wtf">Aba heidschi bumbeidschi</option>
                                </select>
                                <button type="button" class="btn btn-success ms-2"><i class="fas fa-play"></i></button>
                                <!--<button type="button" class="btn btn-warning ms-2"><i class="fas fa-pause"></i></button>-->
                            </div>
                            <div id="overview-panel">
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-co2">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Co²-Gehalt</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="co2" data-chart-title="Co²" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="co2-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-temperature">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Temperatur</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="temperature" data-chart-title="Temperatur" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="temperature-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-salinity">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Salzgehalt</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="salinity" data-chart-title="Salzgehalt" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="salinity-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-ph">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>pH-Wert</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="ph" data-chart-title="pH-Wert" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="ph-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-waterlevel">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Wasserstand</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="waterlevel" data-chart-title="Wasserstand" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="waterlevel-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-ventilation">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Belüftung</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="ventilation" data-chart-title="Belüftung" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="ventilation-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-brightness">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Beleuchtung</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="brightness" data-chart-title="Beleuchtung" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>   
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="brightness-chart-current"></canvas>
                                    </div>
                                </section>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="administration">
                            <section id="plants-programs-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-plants-programs-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-cubes"></i> Pflanzenprogramme</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-plants-programs-actions" class="collapse hide" data-bs-parent="#plants-programs-actions-accordion">
                                        <div class="card-body">
                                            <div class="d-inline-flex align-items-center mb-3">
                                                <label for="adminPlantSelection">Pflanze:</label>
                                                <select class="form-select ms-2 w-auto" id="adminPlantSelection">
                                                    <option value="wtf">Riesenrafflesie</option>
                                                </select>
                                            </div>
                                            <table class="table table-sm w-100" id="adminPlantsProgramsTable">
                                                <thead>
                                                    <tr>
                                                        <th class="w-25">Zielpflanze</th>
                                                        <th>Name</th>
                                                        <th>Beschreibung</th>
                                                        <th>Aktionen</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="plants-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-plants-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-seedling"></i> Pflanzen</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-plants-actions" class="collapse hide" data-bs-parent="#plants-accordion">
                                        <div class="card-body">
                                            <table class="table table-sm w-100" id="plantsTable">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Soll-Co²-Gehalt (ppm)</th>
                                                        <th>Solltemperatur (°C)</th>
                                                        <th>Sollsalzgehalt (g/Kg)</th>
                                                        <th>Soll-pH-Wert</th>
                                                        <th>Sollwasserstand (Liter)</th>
                                                        <th>Sollbelüftung ()</th>
                                                        <th>Sollbeleuchtung (Lux)</th>
                                                        <th>Aktionen</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Riesenrafflesie</td>
                                                        <td>40</td>
                                                        <td>300</td>
                                                        <td>10</td>
                                                        <td>14</td>
                                                        <td>0,7</td>
                                                        <td>70%</td>
                                                        <td>1000</td>
                                                        <td>
                                                            <button type="button" class="btn btn-sm btn-primary" style="width: 32px"><i class="fas fa-pen"></i></button>
                                                            <button type="button" class="btn btn-sm btn-danger" style="width: 32px"><i class="fas fa-times"></i></button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="pump-actions-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-pump-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-fan"></i> Pumpensteuerung</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-pump-actions" class="collapse hide" data-bs-parent="#pump-actions-accordion">
                                        <div class="card-body">
                                        <table class="table-borderless">
                                            <thead>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Pumpe 1a</td>
                                                    <td class="ps-1"><input type="checkbox" data-toggle="toggle" data-size="sm" data-on="Ein" data-off="Aus"></td>
                                                    <td class="ps-2">Pumpe 1b</td>
                                                    <td class="ps-1"><input type="checkbox" data-toggle="toggle" data-size="sm" data-on="Ein" data-off="Aus"></td>
                                                </tr>
                                                <tr>
                                                    <td>Pumpe 2a</td>
                                                    <td class="ps-1"><input type="checkbox" data-toggle="toggle" data-size="sm" data-on="Ein" data-off="Aus"></td>
                                                    <td class="ps-2">Pumpe 2b</td>
                                                    <td class="ps-1"><input type="checkbox" data-toggle="toggle" data-size="sm" data-on="Ein" data-off="Aus"></td>
                                                </tr>
                                                <tr>
                                                    <td>Pumpe 3a</td>
                                                    <td class="ps-1"><input type="checkbox" data-toggle="toggle" data-size="sm" data-on="Ein" data-off="Aus"></td>
                                                    <td class="ps-2">Pumpe 3b</td>
                                                    <td class="ps-1"><input type="checkbox" data-toggle="toggle" data-size="sm" data-on="Ein" data-off="Aus"></td>
                                                </tr>
                                            </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <!--
                            <section id="self-test-actions-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-self-test-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-heartbeat"></i> Selbsttests</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-self-test-actions" class="collapse hide" data-bs-parent="#self-test-actions-accordion">
                                        <div class="card-body">
                                        Lorem ipsum..
                                        </div>
                                    </div>
                                </div>
                            </section>-->
                            <section id="user-actions-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-user-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-users"></i> Benutzerkonten</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-user-actions" class="collapse hide" data-bs-parent="#actuator-user-accordion">
                                        <div class="card-body">
                                            <div class="table-responsive pe-3">
                                                <table class="table table-sm w-100" id="usersTable">
                                                    <thead>
                                                        <tr>
                                                            <th>Vollständiger Name</th>
                                                            <th>Benutzername</th>
                                                            <th>Hinzugefügt</th>
                                                            <th>Status</th>
                                                            <th>Aktionen</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                <!-- Projektadministrator kann zusätzlich Benutzer verwalten.
                                                    Oder sollen Administratoren andere Administratoren bearbeiten
                                                    können, wie sie wollen?
                                                -->
                                                        <tr>
                                                            <td><i class="fas fa-chess-king project-admin"></i> Gitta Stäbe</td>
                                                            <td>igitt</td>
                                                            <td>01.01.1970 12:12</td>
                                                            <td><i class="fas fa-dot-circle user-offline"></i> Offline (Letzte Aktivität: 10.10.2000 13:37)</td>
                                                            <td>
                                                                <button type="button" class="btn btn-primary"><i class="fas fa-user-edit"></i> Bearbeiten...</button>
                                                                <button type="button" class="btn btn-danger"><i class="fas fa-user-alt-slash"></i> Entfernen</button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td><i class="fas fa-chess-rook site-admin"></i> Gitta Stäbe</td>
                                                            <td>igitt</td>
                                                            <td>01.01.1970 12:12</td>
                                                            <td><i class="fas fa-dot-circle user-online"></i> Online</td>
                                                            <td>
                                                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#editUserModal"><i class="fas fa-user-edit"></i> Bearbeiten...</button>
                                                                <button type="button" class="btn btn-danger"><i class="fas fa-user-alt-slash"></i> Entfernen</button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                            <div class="d-flex align-items-start mt-3">
                                                <div>
                                                    <div><i class="fas fa-chess-king project-admin"></i> Projektadministrator</div>
                                                    <div><i class="fas fa-chess-rook site-admin"></i> Seitenadministrator</div>
                                                </div>
                                                <button type="button" class="btn btn-primary mt-0 me-0 mb-auto ms-auto"><i class="fas fa-user-plus"></i> Hinzufügen...</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="events-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-events-actions">
                                          <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-newspaper"></i> Ereignisse</h4>
                                          <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-events-actions" class="collapse hide" data-bs-parent="#events-accordion">
                                        <div class="card-body">
                                          Lorem ipsum..
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="logs-accordion">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-logs-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-scroll"></i> Logs</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-logs-actions" class="collapse hide" data-bs-parent="#logs-accordion">
                                        <div class="card-body">
                                            <div class="d-inline-flex">
                                                <label for="logType" class="form-label col-form-label me-2">Aktivität:</label>
                                                <select class="form-select" id="logType">
                                                    <option value="0">Alles</option>
                                                    <option value="1">Aktoren</option>
                                                    <option value="1">Pumpen</option>
                                                    <option value="3">Selbsttests</option>
                                                    <option value="2">Benutzerkonten</option>
                                                    <option value="4">Ereignisse</option>
                                                    <option value="5">Anmeldung</option>
                                                </select>
                                            </div>
                                            <div class="mt-3 pt-1 pe-3 table-responsive">
                                                <table class="table table-sm w-100" id="logTable">
                                                    <thead>
                                                        <tr>
                                                            <th class="">Zeitpunkt</th>
                                                            <th class="">Nachricht</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                        <tr>
                                                            <td>Donnerstag, XX.XX.XXXX, XX:XX:XX</td>
                                                            <td>verdammt</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                        <div class="tab-pane fade" id="about">
                            <h2>Impressum für das Schulprojekt HydroPoc der IN20 der BSDGG Bremerhaven</h2>
                            <h3>HydroPoc</h3>
                            <ul>
                                <li>
                                    <!-- <p>Lehrer: Volker Trimkowski</p> -->
                                    <p>Die Klasse IN20 der BSDGG</p>
                                </li>
    
                                <li>
                                    <p>BSDGG
                                        Berufliche Schule für Dienstleistung, Gewerbe und Gestaltung</p>
                                    <p>Georg-Büchner-Str. 13
                                        27574 Bremerhaven</p>
                                </li>
                                <li>
                                    <p>Kontakt: Telefon: 04713094650</p>
                                    <p>Web: <a href="https://www.bsdgg.de/">BSDGG</a></p>
                                </li>
                                <li>
                                    <p>Projektleitung: Luca Israel</p>
    
                                    <p>Stellvtr. Projektleitung: Jessica Gerken</p>
                                </li>
                            </ul>
                        </div>    
                    </div>
                </div>
            </div>
        </main>
        <footer></footer>
        <div class="modal fade" id="loginModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Anmelden</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="alert alert-danger fade show">
                            <i class="fas fa-exclamation-circle"></i> Fehlermeldung, wenn Anmeldung fehlschlug...
                        </div>
                        <!-- Bei neuem Anmeldeversuch Fehlermeldung vorher ausblenden -->
                        <div>
                            <label for="username" class="form-label">Benutzername:</label>
                            <input type="text" class="form-control" id="username" placeholder="Benutzernamen eingeben">
                        </div>
                        <div class="mt-3">
                            <label for="password" class="form-label">Passwort:</label>
                            <input type="password" class="form-control" id="password" placeholder="Passwort eingeben">
                        </div>
                        <div class="d-flex mt-3 justify-content-between align-items-center">
                            <button class="btn btn-primary" data-processing="false">
                                <!-- wenn true, soll kein Spinner angezeigt werden, wenn man auf Knopf drückt.
                                Bei Klick Spinner anzeigen -->
                                <span class="spinner-border spinner-border-sm"></span> Anmelden
                                <!-- Knopf deaktivieren, wenn Anmeldevorgang läuft -->
                            </button>
                            <a href="#">Ich habe mein Passwort vergessen!</a>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Abbrechen</button>
                        <!-- Knopf deaktivieren, wenn Anmeldevorgang läuft -->
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="editUserModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">"Benutzer" bearbeiten</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Benutzername darf nur von Projektadmins verändert werden -->
                        <div>
                            <label for="usernameInput" class="form-label">Benutzername:</label>
                            <input type="text" class="form-control" id="usernameInput" placeholder="Benutzername eingeben" readonly="readonly">
                        </div>
                        <div class="mt-3">
                            <label for="usernameSurnameInput" class="form-label">Nachname:</label>
                            <input type="text" class="form-control" id="usernameSurnameInput" placeholder="Nachnamen eingeben">
                        </div>
                        <div class="mt-3">
                            <label for="usernameFornameInput" class="form-label">Vorname:</label>
                            <input type="text" class="form-control" id="usernameFornameInput" placeholder="Vornamen eingeben">
                        </div>
                        <!-- Eigenes Passwort darf nur von Projektadmins und vom jeweiligen Benutzer geändert werden -->
                        <div class="mt-3">
                            <label for="oldPasswordInput" class="form-label">Altes Passwort:</label>
                            <input type="password" class="form-control" id="oldPasswordInput" placeholder="Altes Passwort eingeben">
                        </div>
                        <div class="mt-3">
                            <label for="newPasswordInput" class="form-label">Neues Passwort:</label>
                            <input type="password" class="form-control" id="newPasswordInput" placeholder="Neues Passwort eingeben">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary"><span class="spinner-border spinner-border-sm"></span> Speichern</button>
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Abbrechen</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="chartHistoryModal">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"><span id="chartHistoryElementTitle"></span>-Verlauf</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="pill" href="#lol">Statistik</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="pill" href="#lolo">Aktionen</a>
                                <!-- class="nav-link disabled" -->
                            </li>
                        </ul>
                        <div class="tab-content pt-3 tab-content-simple">
                            <div class="tab-pane active" id="lol">
                                <div class="d-inline-flex align-items-center mb-3">
                                    <label for="historyTimespan">Zeitraum:</label>
                                    <select id="historyTimespan" class="form-select ms-2">
                                        <option value="1">Letzte Stunde</option>
                                        <option value="3">Letzte 3 Stunden</option>
                                        <option value="6">Letzte 6 Stunden</option>
                                        <option value="12">Letzte 12 Stunden</option>
                                        <option value="24">Letzte 24 Stunden</option>
                                    </select>
                                </div>
                                <section id="history" class="w-100" style="height:60vh">
                                    <canvas id="charts-history"></canvas>
                                </section>
                            </div>
                            <div class="tab-pane fade" id="lolo">
                                <h2>Ja spinnt der Beppi!</h2>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Schließen</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="systemStatsModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Systeminformationen</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <table class="tabel-sm w-100">
                            <thead>
                                <tr>
                                    <th>Eigenschaft</th>
                                    <th>Wert</th>
                                </tr>
                            </thead>
                            <tbody id="systemStatsTable">
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Schließen</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="staffModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Mitwirkende</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <table class="table-borderless">
                            <thead></thead>
                            <tbody>
                                <tr>
                                    <td class="align-text-top pe-3">Projektleitung</td>
                                    <td>
                                        Luca Israel
                                        <br>
                                        Jessica Gerken
                                    </td>
                                </tr>
                                <tr>
                                    <td class="align-text-top pe-3">Konstruktion</td>
                                    <td>
                                        Ali Fikdusimir
                                        <br>
                                        Mahatma Buddah Meimuddah
                                    </td>
                                </tr>
                                <tr>
                                    <td class="align-text-top pe-3">Materialbeschaffung</td>
                                    <td>
                                        Mario Nette
                                        <br>
                                        Peter Silie
                                    </td>
                                </tr>
                                <tr>
                                    <td class="align-text-top pe-3">Backend-Entwicklung</td>
                                    <td>
                                        Paul Jongmanns
                                        <br>
                                        Lars Friedrich
                                        <br>
                                        Fabian
                                    </td>
                                </tr>
                                <tr>
                                    <td class="align-text-top pe-3">Datenbankentwicklung</td>
                                    <td>
                                        Lars
                                        <br>
                                        Kevin Müller
                                        <br>
                                        Jan
                                        <br>
                                        Deon
                                        <br>
                                        Emanuel
                                        <br>
                                        René
                                        <br>
                                        Milan
                                    </td>
                                </tr>
                                <tr>
                                    <td class="align-text-top pe-3">Frontend-Entwicklung</td>
                                    <td>
                                        Milan Kola
                                        <br>
                                        Christian Sander
                                        <br>
                                        Jan Bremen
                                        <br>
                                        Deon Gulbinat
                                    </td>
                                </tr>
                                <tr>
                                    <td class="align-text-top pe-3">Elektronik</td>
                                    <td>
                                        Matties
                                        <br>
                                        Tristan
                                        <br>
                                        Marvin
                                        <br>
                                        Calvin
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Schließen</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>