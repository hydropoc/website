<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hydropoc</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="verdammt">
        <meta name="keywords" content="lol,wtf">
        <meta name="copyright" content="IN20">
        <link rel="icon" href="img/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/fontawesome.css">
        <link rel="stylesheet" href="css/dataTables.bootstrap5.min.css">
        <link rel="stylesheet" href="css/bootstrap4-toggle.min.css">
        <script src="js/jquery-3.6.0.min.js"></script>
        <script src="js/bootstrap.bundle.min.js"></script>
        <script src="js/datatables.min.js"></script>
        <script src="js/dataTables.bootstrap5.min.js"></script>
        <script src="js/chart.min.js"></script>
        <script src="js/bootstrap4-toggle.min.js"></script>
        <script>
            Chart.register("filler");
            const charts = {
                current: {
                    co2: {},
                    temperature: {},
                    salinity: {},
                    ph: {},
                    waterlevel: {},
                    ventilation: {},
                    brightness: {}
                },
                history: {}
            };
            const dataTablesLocalisation = {
                sEmptyTable: "Keine Daten vorhanden",
                sInfo: "_START_ bis _END_ von _TOTAL_ Einträgen",
                sInfoEmpty: "0 bis 0 von 0 Einträgen",
                sInfoFiltered: "(gefiltert aus _MAX_ Einträgen)",
                sInfoPostFix: "",
                sInfoThousands: ".",
                sLengthMenu: "_MENU_ Einträge anzeigen",
                sLoadingRecords: "Wird geladen...",
                sProcessing: "Bitte warten...",
                sSearch: "Suchen:",
                sZeroRecords: "Keine Einträge vorhanden.",
                oPaginate: {
                    sFirst: "Erste",
                    sPrevious: "Zurück",
                    sNext: "Nächste",
                    sLast: "Letzte"
                },
                oAria: {
                    sSortAscending: ": aktivieren, um Spalte aufsteigend zu sortieren",
                    sSortDescending: ": aktivieren, um Spalte absteigend zu sortieren"
                }
            }
            const adminDataTables = {};
            const dataTablesAdminOptions = {
                plants: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "400px",
                    scrollCollapse: true,
                    scroller: true,
                    responsive: {
                        details: {
                            type: "inline",
                            display: $.fn.dataTable.Responsive.display.modal({
                                header: function(row) {
                                    return "Eigenschaften von Pflanze &quot;" + row.data()["description"] + "&quot;";
                                }
                            }),
                            renderer: function(api, rowIdx, columns) {
                                let index = plantProperties.findIndex(key => key["id"] === api.cell(rowIdx, "id:name").data());
                                let content = "";
                                if (index >= 0) {
                                    let properties = Object.getOwnPropertyNames(plantPropertyNames);
                                    content += "<div class='accordion accordion-flush' id='accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                    for (property of properties) {
                                        content += "<div class='accordion-item'>";
                                        content += "<h2 class='accordion-header' id='flushPlantsAdminTable" + property + "PropertyHeader-" + rowIdx + "'>";
                                        content += "<button class='accordion-button collapsed p-2' type='button' data-bs-toggle='collapse' data-bs-target='#flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' aria-expanded='false' aria-controls='plantsAdminTableModal" + property + "Property-" + rowIdx + "'>";
                                        content += plantPropertyNames[property] + "</button></h2>";
                                        content += "<div id='flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' class='accordion-collapse collapse' aria-labelledby='flushPlantsAdminTableModal" + property + "PropertyHeader-" + rowIdx + "' data-bs-parent='#accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                        content += "<div class='accordion-body p-2'><table class='table-sm w-100 table-borderless'><tbody><tr><td class='w-50 align-top'>Sollwert:</td><td class='w-50'>" + (plantProperties[index]["properties"][property].hasOwnProperty("setpoint") ? plantProperties[index]["properties"][property]["setpoint"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperControlLimit") ? plantProperties[index]["properties"][property]["upperControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerControlLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["upperWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "</tbody></table></div></div></div>";
                                    }
                                    content += "</div>";
                                }
                                return content;
                            }
                        }
                    },
                    columns: [
                        {
                            name: "id",
                            data: "id",
                            className: "dtr-control"
                        },
                        {
                            name: "description",
                            data: function(row, type, set, meta) {
                                return (plantIDs.hasOwnProperty(row["id"]) ? plantIDs[row["id"]]: "(Unbekannte ID: " + row["id"] + ")");
                            }
                        },
                        {
                            name: "properties",
                            data: function(row, type, set, meta) {
                                let content = "";
                                if (plantProperties.hasOwnProperty(row["id"])) {
                                    content += "<div class='accordion accordion-flush' id='accordionPlantsAdminTableProperties-" + row["id"] + "'>";
                                    let properties = Object.getOwnPropertyNames(plantPropertyNames);
                                    let index = plantProperties.findIndex(key => key["id"] === row["id"]);
                                    for (property of properties) {
                                        content += "<div class='accordion-item'>";
                                        content += "<h2 class='accordion-header' id='flushPlantsAdminTable" + property + "PropertyHeader-" + row["id"] + "'>";
                                        content += "<button class='accordion-button collapsed p-2' type='button' data-bs-toggle='collapse' data-bs-target='#flush-collapsePlantsAdminTable" + property + "Property-" + row["id"] + "' aria-expanded='false' aria-controls='plantsAdminTable" + property + "Property-" + row["id"] + "'>";
                                        content += plantPropertyNames[property] + "</button></h2>";
                                        content += "<div id='flush-collapsePlantsAdminTable" + property + "Property-" + row["id"] + "' class='accordion-collapse collapse' aria-labelledby='flushPlantsAdminTable" + property + "PropertyHeader-" + row["id"] + "' data-bs-parent='#accordionPlantsAdminTableProperties-" + row["id"] + "'>";
                                        content += "<div class='accordion-body p-2'><div class='row'><div class='col-md-8'>Sollwert:</div><div class='col-md-4'>" + (index >= 0 ? plantProperties[index]["properties"][property]["setpoint"] : "(Keine Daten vorhanden)") + "</div>";
                                        content += "<div class='col-md-8'>Obere Eingriffsgrenze:</div><div class='col-md-4'>" + (index >= 0 ? plantProperties[index]["properties"][property]["upperControlLimit"] : "(Keine Daten vorhanden)") + "</div>";
                                        content += "<div class='col-md-8'>Untere Eingriffsgrenze:</div><div class='col-md-4'>" + (index >= 0 ? plantProperties[index]["properties"][property]["lowerControlLimit"] : "(Keine Daten vorhanden)") + "</div>";
                                        content += "<div class='col-md-8'>Obere Warngrenze:</div><div class='col-md-4'>" + (index >= 0 ? plantProperties[index]["properties"][property]["upperWarningLimit"] : "(Keine Daten vorhanden)") + "</div>";
                                        content += "<div class='col-md-8'>Untere Warngrenze:</div><div class='col-md-4'>" + (index >= 0 ? plantProperties[index]["properties"][property]["lowerWarningLimit"] : "(Keine Daten vorhanden)") + "</div>";
                                        content += "</div></div></div></div>";
                                    }
                                    content += "</div>";
                                }
                                else {
                                    content = "(Keine Daten vorhanden)";
                                }
                                return content;
                            },
                            responsivePriority: 10002
                        },
                        {
                            name: "options",
                            data: function(row, type, set, meta) {
                                let buttons = "<div class='d-flex formContainer' style='gap: 5px'>";
                                if (plantIDs.hasOwnProperty(row["id"])) {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary' style='width: 32px' onclick='editPlant(" + row["id"] + ")'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger' style='width: 32px' onclick='destroyPlant(this, " + row["id"] + ")' data-confirmation-sender='destroyPlant'><i class='fas fa-times'></i></button>";
                                }
                                else {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary disabled' disabled='disabled' style='width: 32px'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger disabled' disabled='disabled' style='width: 32px'><i class='fas fa-times'></i></button>";
                                }
                                buttons += "</div>";
                                return buttons;
                            }
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch",
                            responsivePriority: 1
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: 'GET',
                        data: {
                            type: "plantdetails"
                        }
                    },
                    drawCallback: function(settings) {
                        $("#plantsAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        let a = $("#plantsAdminTable_wrapper .dataTables_scrollHeadInner").outerHeight(true);
                        let b = $("#plantsAdminTable").outerHeight(true);
                        $("#plantsAdminTable_wrapper .dataTables_scrollBody").css("height", a + b + "px");
                        /*if (!settings.hasOwnProperty("rowGroup") && $("#addNewPlantButton").length == 0) {
                            $("#plantsAdminTable_wrapper > .row:last-of-type").before("<div class='d-flex justify-content-end mt-3' style='height: 40px'><button type='button' class='btn btn-success' onclick='addNewPlant()' id='addNewPlantButton'><i class='fas fa-asterisk'></i> Neu...</button></div>");
                        }*/
                    }
                },/*
                plantsCategories: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "400px",
                    scrollCollapse: true,
                    scroller: true,
                    columns: [
                        {
                            name: "id",
                            data: "id"
                        },
                        {
                            name: "description",
                            data: function(row, type, set, meta) {
                                return (plantIDs.hasOwnProperty(row["id"]) ? plantIDs[row["id"]]: "(Unbekannte ID: " + row["id"] + ")");
                            }
                        },
                        {
                            name: "properties",
                            data: function(row, type, set, meta) {
                                console.log(row, type, set, meta);
                                return "lol";
                            }
                        },
                        {
                            name: "options",
                            data: function(row, type, set, meta) {
                                let buttons = "";
                                if (plantIDs.hasOwnProperty(row["id"])) {
                                    buttons = "<button type='button' class='btn btn-sm btn-primary' style='width: 32px' onclick='editPlantCategory(" + row["id"] + ")'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger ms-1' style='width: 32px' onclick='removePlantCategory(" + row["id"] + ")'><i class='fas fa-times'></i></button>";
                                }
                                else {
                                    buttons = "<button type='button' class='btn btn-sm btn-primary disabled' disabled='disabled' style='width: 32px'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger ms-1 disabled' disabled='disabled' style='width: 32px'><i class='fas fa-times'></i></button>";
                                }
                                return buttons;
                            }
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch"
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: 'GET',
                        data: {
                            type: "plantscategories"
                        },
                        dataSrc: "data",
                    },
                    drawCallback: function(settings) {
                        $("#plantsCategoriesAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        if ($("#addNewPlantCategoryButton").length == 0) {
                            $("#plantsCategoriesAdminTable_wrapper > .row:last-of-type").before("<div class='d-flex justify-content-end mt-3' style='height: 40px'><button type='button' class='btn btn-success' onclick='addNewPlantCategory()' id='addNewPlantCategoryButton'><i class='fas fa-asterisk'></i> Neu...</button></div>");
                        }
                    }
                },*/
                userAccounts: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "400px",
                    scrollCollapse: true,
                    scroller: true,
                    responsive: {
                        details: {
                            type: "inline",
                            display: $.fn.dataTable.Responsive.display.modal({
                                header: function(row) {
                                    return "Eigenschaften von Benutzer &quot;" + row.data()["displayname"] + "&quot;";
                                }
                            }),
                            renderer: function(api, rowIdx, columns) {
                                /*
                                let index = plantProperties.findIndex(key => key["id"] === api.cell(rowIdx, "id:name").data());
                                let content = "";
                                if (index >= 0) {
                                    let properties = Object.getOwnPropertyNames(plantPropertyNames);
                                    content += "<div class='accordion accordion-flush' id='accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                    for (property of properties) {
                                        content += "<div class='accordion-item'>";
                                        content += "<h2 class='accordion-header' id='flushPlantsAdminTable" + property + "PropertyHeader-" + rowIdx + "'>";
                                        content += "<button class='accordion-button collapsed p-2' type='button' data-bs-toggle='collapse' data-bs-target='#flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' aria-expanded='false' aria-controls='plantsAdminTableModal" + property + "Property-" + rowIdx + "'>";
                                        content += plantPropertyNames[property] + "</button></h2>";
                                        content += "<div id='flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' class='accordion-collapse collapse' aria-labelledby='flushPlantsAdminTableModal" + property + "PropertyHeader-" + rowIdx + "' data-bs-parent='#accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                        content += "<div class='accordion-body p-2'><table class='table-sm w-100 table-borderless'><tbody><tr><td class='w-50 align-top'>Sollwert:</td><td class='w-50'>" + (plantProperties[index]["properties"][property].hasOwnProperty("setpoint") ? plantProperties[index]["properties"][property]["setpoint"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperControlLimit") ? plantProperties[index]["properties"][property]["upperControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerControlLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["upperWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "</tbody></table></div></div></div>";
                                    }
                                    content += "</div>";
                                }
                                return content;*/
                                return "LOL"
                            }
                        }
                    },
                    columns: [
                        { 
                            name: "displayname",
                            data: "displayname",
                            className: "dtr-control",
                        },
                        {
                            // in uid/username unbenennen
                            name: "cn",
                            data: "cn",
                            responsivePriority: 10002
                        },
                        {
                            name: "created",
                            data: "created",
                            responsivePriority: 10001
                        },
                        {
                            name: "status",
                            data: "status"
                        },
                        {
                            name: "options",
                            data: function(row, type, set, meta) {
                                let buttons = "<div class='d-flex formContainer' style='gap: 5px'>";
                                if (plantIDs.hasOwnProperty(row["id"])) {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary' style='width: 32px' onclick='editUserAccount(" + row["id"] + ")'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger' style='width: 32px' onclick='removeUserAccount(" + row["id"] + ")'><i class='fas fa-times'></i></button>";
                                }
                                else {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary disabled' disabled='disabled' style='width: 32px'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger disabled' disabled='disabled' style='width: 32px'><i class='fas fa-times'></i></button>";
                                }
                                buttons += "</div>";
                                return buttons;
                            }
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch",
                            responsivePriority: 1
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: "GET",
                        data: {
                            type: "useraccounts"
                        }
                    },
                    drawCallback: function(settings) {
                        $("#userAccountsAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        if ($("#addNewUserAccountButton").length == 0) {
                            $("#userAccountsAdminTable_wrapper > .row:last-of-type").before("<div class='d-flex justify-content-end' style='height: 40px'><button type='button' class='btn btn-success' onclick='createNewUser()' id='addNewUserAccountButton'><i class='fas fa-asterisk'></i> Neu...</button></div>");
                        }
                        let a = $("#userAccountsAdminTable_wrapper .dataTables_scrollHeadInner").outerHeight(true);
                        let b = $("#userAccountsAdminTable").outerHeight(true);
                        $("#userAccountsAdminTable_wrapper .dataTables_scrollBody").css("height", a + b + "px");
                    }
                },
                plantPrograms: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "400px",
                    scrollCollapse: true,
                    scroller: true,
                    responsive: {
                        details: {
                            type: "inline",
                            display: $.fn.dataTable.Responsive.display.modal({
                                header: function(row) {
                                    return "Eigenschaften von Programm &quot;" + row.data()["name"] + "&quot;";
                                }
                            }),
                            renderer: function(api, rowIdx, columns) {
                                /*
                                let index = plantProperties.findIndex(key => key["id"] === api.cell(rowIdx, "id:name").data());
                                let content = "";
                                if (index >= 0) {
                                    let properties = Object.getOwnPropertyNames(plantPropertyNames);
                                    content += "<div class='accordion accordion-flush' id='accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                    for (property of properties) {
                                        content += "<div class='accordion-item'>";
                                        content += "<h2 class='accordion-header' id='flushPlantsAdminTable" + property + "PropertyHeader-" + rowIdx + "'>";
                                        content += "<button class='accordion-button collapsed p-2' type='button' data-bs-toggle='collapse' data-bs-target='#flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' aria-expanded='false' aria-controls='plantsAdminTableModal" + property + "Property-" + rowIdx + "'>";
                                        content += plantPropertyNames[property] + "</button></h2>";
                                        content += "<div id='flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' class='accordion-collapse collapse' aria-labelledby='flushPlantsAdminTableModal" + property + "PropertyHeader-" + rowIdx + "' data-bs-parent='#accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                        content += "<div class='accordion-body p-2'><table class='table-sm w-100 table-borderless'><tbody><tr><td class='w-50 align-top'>Sollwert:</td><td class='w-50'>" + (plantProperties[index]["properties"][property].hasOwnProperty("setpoint") ? plantProperties[index]["properties"][property]["setpoint"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperControlLimit") ? plantProperties[index]["properties"][property]["upperControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerControlLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["upperWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "</tbody></table></div></div></div>";
                                    }
                                    content += "</div>";
                                }
                                return content;*/
                                return "LOL"
                            }
                        }
                    },
                    columns: [
                        {
                            name: "plantID",
                            data: "plantID",
                            visible: false
                        },
                        {
                            name: "id",
                            data: "id",
                            className: "dtr-control",
                            responsivePriority: 10001
                        },
                        {
                            name: "name",
                            data: "name"
                        },
                        {
                            name: "description",
                            data: "description",
                            responsivePriority: 10002
                        },
                        {
                            name: "options",
                            data: function(row, type, set, meta) {
                                let buttons = "<div class='d-flex formContainer' style='gap: 5px'>";
                                if (plantIDs.hasOwnProperty(row["id"])) {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary' style='width: 32px' onclick='editPlantProgram(" + row["id"] + ")'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger' style='width: 32px' onclick='removePlantProgram(" + row["id"] + ")'><i class='fas fa-times'></i></button>";
                                }
                                else {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary disabled' disabled='disabled' style='width: 32px'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger disabled' disabled='disabled' style='width: 32px'><i class='fas fa-times'></i></button>";
                                }
                                buttons += "</div>"
                                return buttons;
                            }
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch",
                            responsivePriority: 1
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: 'GET',
                        data: {
                            type: "plantPrograms"
                        }
                    },
                    drawCallback: function(settings) {
                        $("#plantProgramsAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        let a = $("#plantProgramsAdminTable_wrapper .dataTables_scrollHeadInner").outerHeight(true);
                        let b = $("#plantProgramsAdminTable").outerHeight(true);
                        console.log(a,b);
                        $("#plantProgramsAdminTable_wrapper .dataTables_scrollBody").css("height", a + b + "px");
                        if (!settings.hasOwnProperty("rowGroup") && $("#createNewPlantProgram(Button").length == 0) {
                            $("#plantProgramsAdminTable_wrapper > .row:last-of-type").before("<div class='d-flex justify-content-end mt-3' style='height: 40px'><button type='button' class='btn btn-success' onclick='createNewPlantProgram()' id='createNewPlantProgramButton'><i class='fas fa-asterisk'></i> Neu...</button></div>");
                        }
                    }
                },
                pumps: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "400px",
                    scrollCollapse: true,
                    scroller: true,
                    columns: [
                        {
                            name: "name",
                            data: "name"
                        },
                        {
                            name: "power",
                            data: "power"
                        },
                        {
                            name: "rpm",
                            data: "rpm"
                        },
                        {
                            name: "status",
                            data: "status"
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch"
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: 'GET',
                        data: {
                            type: "pumps"
                        }
                    },
                    drawCallback: function(settings) {
                        $("#pumpsAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        // checkboxen müssen IDs haben!
                        $("#pumpsAdminTable > tbody [type='checkbox']").bootstrapToggle();
                        let a = $("#pumpsAdminTable_wrapper .dataTables_scrollHeadInner").outerHeight(true);
                        let b = $("#pumpsAdminTable").outerHeight(true);
                        $("#pumpsAdminTable_wrapper .dataTables_scrollBody").css("height", a + b + "px");
                    }
                },
                events: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "200px",
                    scrollCollapse: false,
                    deferRender: true,
                    scroller: true,
                    responsive: {
                        details: {
                            type: "inline",
                            display: $.fn.dataTable.Responsive.display.modal({
                                header: function(row) {
                                    return "Eigenschaften von Pflanze &quot;" + row.data()["description"] + "&quot;";
                                }
                            }),
                            renderer: function(api, rowIdx, columns) {
                                /*
                                let index = plantProperties.findIndex(key => key["id"] === api.cell(rowIdx, "id:name").data());
                                let content = "";
                                if (index >= 0) {
                                    let properties = Object.getOwnPropertyNames(plantPropertyNames);
                                    content += "<div class='accordion accordion-flush' id='accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                    for (property of properties) {
                                        content += "<div class='accordion-item'>";
                                        content += "<h2 class='accordion-header' id='flushPlantsAdminTable" + property + "PropertyHeader-" + rowIdx + "'>";
                                        content += "<button class='accordion-button collapsed p-2' type='button' data-bs-toggle='collapse' data-bs-target='#flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' aria-expanded='false' aria-controls='plantsAdminTableModal" + property + "Property-" + rowIdx + "'>";
                                        content += plantPropertyNames[property] + "</button></h2>";
                                        content += "<div id='flush-collapsePlantsAdminTableModal" + property + "Property-" + rowIdx + "' class='accordion-collapse collapse' aria-labelledby='flushPlantsAdminTableModal" + property + "PropertyHeader-" + rowIdx + "' data-bs-parent='#accordionPlantsAdminTableModalProperties-" + rowIdx + "'>";
                                        content += "<div class='accordion-body p-2'><table class='table-sm w-100 table-borderless'><tbody><tr><td class='w-50 align-top'>Sollwert:</td><td class='w-50'>" + (plantProperties[index]["properties"][property].hasOwnProperty("setpoint") ? plantProperties[index]["properties"][property]["setpoint"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperControlLimit") ? plantProperties[index]["properties"][property]["upperControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Eingriffsgrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerControlLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerControlLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Obere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("upperWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["upperWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "<tr><td class='align-top'>Untere Warngrenze:</td><td>" + (plantProperties[index]["properties"][property].hasOwnProperty("lowerWarningLimit") >= 0 ? plantProperties[index]["properties"][property]["lowerWarningLimit"] : "(Keine Daten vorhanden)") + "</td></tr>";
                                        content += "</tbody></table></div></div></div>";
                                    }
                                    content += "</div>";
                                }
                                return content;-*/
                                return "lol"
                            }
                        }
                    },
                    columns: [
                        {
                            name: "category",
                            data: "category",
                            visible: false
                        },
                        {
                            name: "attribute",
                            data: "attribute",
                            className: "dtr-control"
                        },
                        {
                            name: "condition",
                            data: "condition",
                            responsivePriority: 10002
                        },
                        {
                            name: "action",
                            data: "action",
                            responsivePriority: 10003
                        },
                        {
                            name: "options",
                            data: function(row, type, set, meta) {
                                let buttons = "<div class='d-flex formContainer' style='gap: 5px'>";
                                if (plantIDs.hasOwnProperty(row["id"])) {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary' style='width: 32px' onclick='editEvent" + row["id"] + ")'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger' style='width: 32px' onclick='removeEvent(" + row["id"] + ")'><i class='fas fa-times'></i></button>";
                                }
                                else {
                                    buttons += "<button type='button' class='btn btn-sm btn-primary disabled' disabled='disabled' style='width: 32px'><i class='fas fa-pen'></i></button><button type='button' class='btn btn-sm btn-danger disabled' disabled='disabled' style='width: 32px'><i class='fas fa-times'></i></button>";
                                }
                                buttons += "</div>";
                                return buttons;
                            }
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch",
                            responsivePriority: 1
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: 'GET',
                        data: {
                            type: "events"
                        }
                    },
                    drawCallback: function(settings) {
                        $("#eventsAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        let a = $("#eventsAdminTable_wrapper .dataTables_scrollHeadInner").outerHeight(true);
                        let b = $("#eventsAdminTable").outerHeight(true);
                        $("#eventsAdminTable_wrapper .dataTables_scrollBody").css("height", a + b + "px");
                        if (!settings.hasOwnProperty("rowGroup") && $("#addNewEventButton").length == 0) {
                            $("#eventsAdminTable_wrapper > .row:last-of-type").before("<div class='d-flex justify-content-end mt-3' style='height: 40px'><button type='button' class='btn btn-success' onclick='createNewEvent()' id='addNewEventButton'><i class='fas fa-asterisk'></i> Neu...</button></div>");
                        }
                    }
                },
                logs: {
                    order: [0, "asc"],
                    language: dataTablesLocalisation,
                    scrollY: "400px",
                    scrollCollapse: true,
                    scroller: true,
                    columns: [
                        {
                            name: "category",
                            data: "category",
                            width: "25%",
                            visible: false
                        },
                        {
                            name: "timestamp",
                            data: "timestamp",
                            width: "25%"
                        },
                        {
                            name: "message",
                            data: "message",
                            width: "50%"
                        },
                        {
                            name: "lol",
                            sorting: false,
                            data: null,
                            orderable: false,
                            defaultContent: "",
                            className: "TintengefrorenerTiefenfrisch"
                        }
                    ],
                    ajax: {
                        url: "dataTables_test.php",
                        type: "GET",
                        data: {
                            type: "logs"
                        }
                    },
                    drawCallback: function(settings) {
                        $("#logsAdminTable > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2)").attr("colspan", "2");
                        let a = $("#logsAdminTable_wrapper .dataTables_scrollHeadInner").outerHeight(true);
                        let b = $("#logsAdminTable").outerHeight(true);
                        $("#logsAdminTable_wrapper .dataTables_scrollBody").css("height", a + b + "px");
                    }
                }
            };
            const dataTablesRowGroupStrings = {
                logs: {
                    actors: "Aktoren",
                    pumps: "Pumpen",
                    events: "Ereignisse",
                    users: "Benutzeraktivitäten"
                },
                pumps: {
                    //
                },
                events: {
                    //
                }
            };
            const plantIDs = {};
            const plantPrograms = [];
            const plantProperties = [];
            const plantPropertyNames = {
                co2: "Co²-Gehalt",
                temperature: "Temperatur",
                salinity: "Salzgehalt",
                ph: "pH-Wert",
                humidity: "Luftfeuchtigkeit",
                lighting: "Beleuchtung"
            };
            // Aktorensimulation
            const actuators = {
                co2: {enabled: 0},
                temperature: {enabled: 0},
                salinity: {enabled: 0},
                ph: {enabled: 0},
                waterlevel: {enabled: 0},
                ventilation: {enabled: 0},
                brightness: {enabled: 0}
            };
            var isLoadingCurrentChartData = false;
            var currentChartPlant = null; // Aktuell gewählte Pflanze für Diagramme
            var systemInfosEventSource = null;
            var isPlantEditingActive = false;
            function switchAlert(element, type) {
                type = type.toLowerCase();
                element = $("#section-" + element)[0];
                if (["danger", "warning", "success"].includes(type) && !$(element).hasClass(type)) {
                    $(element).removeClass("danger warning success").addClass(type);
                }
            }
            function getCSSVar(val) {
                return getComputedStyle($(":root")[0]).getPropertyValue(val);
            }
            function getGradient(context, chartArea, data) {
                let gradient = context.createLinearGradient(0, chartArea.bottom, 0, chartArea.top);
                let steps = Object.getOwnPropertyNames(data);
                for (step of steps) {
                    gradient.addColorStop(step, data[step]);
                }
                return gradient;
            }
            function togglePump(wtf) {
                $(wtf).attr("disabled", "disabled");
                let parent = $(wtf).parentsUntil("td");
                if ($(parent).find("[data-processing='true']").length == 0) {
                    $(parent).after("<span data-processing='true' class='spinner-border spinner-border-sm align-middle ms-2 text-secondary'></span>");
                }
                $.post("lol", {
                    pump: $(wtf).attr("id"),
                    state: $(wtf).val()
                }).done(function(response) {
                    $(wtf).removeAttr("disabled");
                    $(parent).parent().find("[data-processing='true']").remove();
                }).fail(function(response) {
                    $("#pumpsAdminTableResponsive").prepend(Alert.create("danger", response["status"] + ": " + response["statusText"]));
                    $("#pumpsAdminTable").DataTable().ajax.reload();
                }).always(function() {
                });
            }
            function showHistoryGalleryImage(wtf) {
                let content = "<img src='img/" + wtf + "'>";
                let data = {
                    modal: {
                        name: "showHistoryGalleryImage",
                        size: "xl"
                    },
                    title: {
                        text: wtf
                    },
                    content: {
                        text: content
                    }
                }
                Modal.create(data);
            }
            function login(wtf) {
                if ($("#mainModal").hasClass("show") && $("#mainModal").attr("data-name") == "login") {
                    if ($("#body-overlay").length == 0) {
                        $("body").prepend("<div id='body-overlay' style='background-color: transparent'></div>");
                    }
                    if ($(wtf).find("[data-processing='true']").length == 0) {
                        $(wtf).attr("disabled", "disabled").prepend("<span class='spinner-border me-1 text-white kreiselchen align-text-bottom' data-processing='true'></span>");
                    }
                    $("#mainModal .modal-footer > [data-bs-dismiss='modal']").attr("disabled", "disabled");
                    $("#mainModal .modal-header > [data-bs-dismiss='modal']").attr("disabled", "disabled");
                    $("#mainModal .modal-body > .alert").remove();
                    $.post("lol", {
                        username: $("#username").val(),
                        password: $("#password").val()
                    }).done(function(response) {
                        //cookies setzen
                        //anmeldeknopf durch abmeldeknopf ersetzen
                    }).fail(function(response) {
                        $("#mainModal .modal-body").prepend(Alert.create("danger", response["status"] + ": " + response["statusText"]));
                    }).always(function() {
                        $(wtf).find("[data-processing='true']").remove();
                        $(wtf).removeAttr("disabled");
                        $("#body-overlay").remove();
                        $("#mainModal .modal-footer > [data-bs-dismiss='modal']").removeAttr("disabled");
                        $("#mainModal .modal-header > [data-bs-dismiss='modal']").removeAttr("disabled");
                    });
                }
            }
            function toggleFormState(wtf) {
                if ($(wtf).attr("disabled") == "disabled") {
                    $(wtf).removeAttr("disabled");
                }
                else {
                    $(wtf).attr("disabled", "disabled");
                }
            }
            function logout(wtf) {
                //cookies löschen
                //abmeldeknopf durch anmeldeknopf ersetzen (auch in mobiler ansicht)
            }
            function createNewEvent(wtf = null) {
                //
            }
            function createNewPlantProgram(wtf = null) {
                //
            }
            function destroyPlant(wtf, lol) {
                confirmation(wtf, {title: "Pflanze löschen bestätigen", content: "Soll die Pflanze " + plantIDs[lol] + " (ID: " + lol + ") wirklich gelöscht werden?"});
            }
            Number.prototype.duration = function() {
                let sec_num = parseInt(this, 10);
                let weeks = Math.floor((sec_num / 3600 / 24) / 7);
                let days = Math.floor((sec_num / 3600 / 24) % 7);
                let hours = Math.floor((sec_num / 3600) % 24);
                let minutes = Math.floor((sec_num / 60) % 60);
                let seconds = sec_num % 60;
                let duration = "";
                if (weeks >= 1) {
                    duration += weeks + (weeks >= 2 ? " Wochen, " : " Woche, ");
                }
                if (days >= 1) {
                    duration += days + (days >= 2 ? " Tage, " : " Tag, ");
                }
                if (hours >= 1) {
                    duration += hours + (hours >= 2 ? " Stunden, " : " Stunde, ");
                }
                if (minutes >= 1) {
                    duration += minutes + (minutes >= 2 ? " Minuten, " : " Minute, ");
                }
                if (seconds >= 1) {
                    duration += seconds + (seconds >= 2 ? " Sekunden, " : " Sekunde, ");
                }
                return duration.substr(0, duration.length -2);
            }
            function updateSystemInfos() {
                if (systemInfosEventSource === null || systemInfosEventSource["readyState"] == 2) {
                    systemInfosEventSource = new EventSource("sse_test.php");
                    systemInfosEventSource.onmessage = function(event) {
                        if ($("#mainModal").attr("data-name") == "systemInfos") {
                            let data = JSON.parse(event["data"]);
                            let statsText = "";
                            if (data.hasOwnProperty("osname")) {
                                statsText += "<tr><td class='align-top'>Kernelversion</td><td>" + data["osname"] + "</td></tr>";
                            }
                            if (data.hasOwnProperty("arch")) {
                                statsText += "<tr><td class='align-top'>Architektur</td><td>" + data["arch"] + "</td></tr>";
                            }
                            if (data.hasOwnProperty("cpus")) {
                                statsText += "<tr><td class='align-top'>CPU</td><td>" + data["cpus"][0]["model"];
                                for (let [index, cpu] of data["cpus"].entries()) {
                                    statsText += "<div>CPU #" + index + ":<div class='ps-3'>Takt: " + cpu["speed"] + "MHz</div></div>";
                                }
                                statsText += "</td></tr>";
                            }
                            if (data.hasOwnProperty("freememory") && data.hasOwnProperty("totalmemory")) {
                                statsText += "<tr><td class='align-top'>Speicher</td><td>" + data["freememory"] + " MB/" + data["totalmemory"] + " MB (" + Math.floor(((data["freememory"] / data["totalmemory"]) *100)) + " %)</td></tr>";
                            }
                            if (data.hasOwnProperty("hostname")) {
                                statsText += "<tr><td class='align-top'>Host</td><td>" + data["hostname"] + "</td></tr>";
                            }
                            if (data.hasOwnProperty("uptime")) {
                                statsText += "<tr><td class='align-top'>Laufzeit</td><td>" + data["uptime"].duration() + "</td></tr>";
                            }
                            $("#systemInfosTable").html(statsText);
                        }
                        else {
                            systemInfosEventSource.close();
                            systemInfosEventSource = null;
                        }
                    };
                }
            }
            // Wird verwendet, um Funktionen innerhalb von Objekten auszuführen
            function achso(callback, args = null) {
                callback.apply(this, args);
            }
            class Modal {
                /*
                data: {
                    modal: {
                        size: sm|default|lg|xl,
                        static: bool,
                        name: string
                    },
                    title: {
                        text: string
                    },
                    content: {
                        text: string
                        options: {
                            scroll: bool,
                            align: left|center|right
                        }
                    },
                    footer: {
                        buttons: {
                            default: {
                                text: string,
                                class: string,
                                display: bool,
                                attributes: {}
                            }
                            // Eigene
                            custom: [
                                {
                                    text: string,
                                    class: string,
                                    attributes: {},
                                    actions: [{
                                        click: [
                                            {
                                                function: string,
                                                args: []
                                            },
                                            {
                                                function: string,
                                                args: []
                                            }
                                        ]
                                    }]
                                }]
                            }
                        }
                    }
                }
                */
                static create(data = {}) {
                    if ($("#mainModal").hasClass("show")) {
                        $("#mainModal").hide();
                    }
                    $("#mainModal > div:first-of-type").removeClass("modal-sm modal-lg modal-xl modal-dialog-scrollable");
                    $("#mainModal > div:first-of-type").removeAttr("data-bs-backdrop data-bs-keyboard");
                    $("#mainModal .modal-header > h4").empty();
                    $("#mainModal .modal-body").empty();
                    $("#mainModal .modal-footer").empty();
                    if (data.hasOwnProperty("modal") && data["modal"].hasOwnProperty("name") && !["undefined", "", undefined, null].includes(data["title"]["text"])) {
                        $("#mainModal").attr("data-name", data["modal"]["name"]);
                        if (data["modal"].hasOwnProperty("size") && ["sm", "lg", "xl"].includes(data["modal"]["size"])) {
                            $("#mainModal > div:first-of-type").addClass("modal-" + data["modal"]["size"]);
                        }
                        if (data["modal"].hasOwnProperty("static") && data["modal"]["static"]) {
                            $("#mainModal > div:first-of-type").attr({"data-bs-backdrop":"static", "data-bs-keyboard":"false"});
                        }
                        if (data.hasOwnProperty("title")) {
                            if (data["title"].hasOwnProperty("text") && !["undefined", "", undefined, null].includes(data["title"]["text"])) {
                                $("#mainModal .modal-header > h4").html(data["title"]["text"]);
                            }
                        }
                        if (data.hasOwnProperty("content")) {
                            if (data["content"].hasOwnProperty("options")) {
                                if (data["content"]["options"].hasOwnProperty("scroll") && data["content"]["options"]["scroll"]) {
                                    $("#mainModal > div:first-of-type").addClass("modal-dialog-scrollable");
                                }
                            }
                            if (data["content"].hasOwnProperty("text") && !["undefined", "", undefined, null].includes(data["content"]["text"])) {
                                $("#mainModal .modal-body").html(data["content"]["text"]);
                            }
                        }
                        if (data.hasOwnProperty("footer")) {
                            if (data["footer"].hasOwnProperty("buttons")) {
                                if (data["footer"]["buttons"].hasOwnProperty("default")) {
                                    let defaultButtonText = "";
                                    let defaultButtonClass = "";
                                    let defaultButton = $("<button type='button' data-bs-dismiss='modal' class='btn'>");
                                    if ((data["footer"]["buttons"].hasOwnProperty("display") && data["footer"]["buttons"]["display"]) || !data["footer"]["buttons"].hasOwnProperty("display")) {
                                        if (data["footer"]["buttons"]["default"].hasOwnProperty("text") && !["undefined", "", undefined, null].includes(data["footer"]["buttons"]["default"]["text"])) {
                                            defaultButtonText = data["footer"]["buttons"]["default"]["text"];
                                        }
                                        else {
                                            defaultButtonText = "Schließen";
                                        }
                                    }
                                    if (data["footer"]["buttons"]["default"].hasOwnProperty("class") && !["undefined", "", undefined, null].includes(data["footer"]["buttons"]["default"]["class"])) {
                                        defaultButtonClass = data["footer"]["buttons"]["default"]["class"];
                                    }
                                    else {
                                        defaultButtonClass = "btn-secondary";
                                    }
                                    $(defaultButton).addClass(defaultButtonClass).html(defaultButtonText);
                                    if (data["footer"]["buttons"]["default"].hasOwnProperty("attributes")) {
                                        let attributes = Object.getOwnPropertyNames(data["footer"]["buttons"]["default"]["attributes"]);
                                        for (let attribute of attributes) {
                                            $(defaultButton).attr(attribute, data["footer"]["buttons"]["default"]["attributes"][attribute]);
                                        }
                                    }
                                    $("#mainModal .modal-footer").append(defaultButton);
                                }
                                else {
                                    $("#mainModal .modal-footer").append("<button type='button' class='btn btn-secondary' data-bs-dismiss='modal'>Schließen</button>");
                                }
                                if (data["footer"]["buttons"].hasOwnProperty("custom")) {
                                    let customButtons = data["footer"]["buttons"]["custom"];
                                    for (let customButton of customButtons) {
                                        if (customButton.hasOwnProperty("text") && !["undefined", "", undefined, null].includes(customButton["text"]) /*&& customButton.hasOwnProperty("actions") && !["undefined", undefined, null].includes(customButton["actions"])*/) {
                                            let currentButton = $("<button type='button' class='btn'>" + customButton["text"] + "</button>");
                                            if (customButton.hasOwnProperty("class") && !["undefined", "", undefined, null].includes(customButton["class"])) {
                                                $(currentButton).addClass(customButton["class"]);
                                            }
                                            else {
                                                $(currentButton).addClass("btn-primary");
                                            }
                                            for (let action of customButton["actions"]) {
                                                let events = Object.getOwnPropertyNames(action);
                                                for (event of events) {
                                                    for (let func of action[event]) {
                                                        if (func.hasOwnProperty("args") && typeof(func["function"]) === "object") {
                                                            $(currentButton).on(event, function() {
                                                                achso(func["function"], func["args"]);
                                                            });
                                                        }
                                                        else {
                                                            $(currentButton).on(event, function() {
                                                                achso(func["function"]);
                                                            });
                                                        }
                                                    }
                                                }
                                            }
                                            if (customButton.hasOwnProperty("attributes")) {
                                                let attributes = Object.getOwnPropertyNames(customButton["attributes"]);
                                                for (let attribute of attributes) {
                                                    $(currentButton).attr(attribute, customButton["attributes"][attribute]);
                                                }
                                            }
                                            $("#mainModal .modal-footer").prepend(currentButton);
                                        }
                                    }
                                }
                            }
                            else {
                                $("#mainModal .modal-footer").append("<button type='button' class='btn btn-secondary' data-bs-dismiss='modal'>Schließen</button>");
                            }
                        }
                        else {
                            $("#mainModal .modal-footer").append("<button type='button' class='btn btn-secondary' data-bs-dismiss='modal'>Schließen</button>");
                        }
                        new bootstrap.Modal($("#mainModal")).show();
                    }
                    else {
                        alert("Fehler: Es muss ein gültiger Name für den Dialog angegeben werden.");
                    }
                }
            }
            class Alert {
                static create(type, message) {
                    type = type.toLowerCase();
                    let icons = {
                        danger: "fas fa-exclamation-circle",
                        primary: "fas fa-info-circle",
                        warning: "fas fa-exclamation-triangle",
                        success: "fas fa-check-circle"
                    };
                    if (!["primary", "success", "danger", "warning"].includes(type)) {
                        type = "primary";
                    }
                    return "<div class='alert-dismissible alert alert-" + type + "' role='alert'><i class='" + icons[type] + "' style='font-size: x-large; vertical-align: sub'></i> " + message + "<button type='button' class='btn-close' data-bs-dismiss='alert' aria-label='Schließen'></button></div>";
                }
            }
            function editPlant(wtf) {
                if (!isPlantEditingActive) {
                    isPlantEditingActive = true;
                    $("#savePlantButton").attr("data-plant-id", wtf);
                    //$("#discardEditedPlantButton").attr("data-plant-id", wtf);
                    let tab = $("a[href='#plantsAdminCreationContainer']")[0];
                    $("a[href='#plantsAdminOverviewContainer']").addClass("disabled");
                    $(tab).html("Bearbeitung");
                    $("#savePlantButton").html("<i class='fas fa-save'></i> Speichern");
                    $("#discardPlantButton").html("<i class='fas fa-times'></i> Abbrechen");
                    $("#newPlantIdInput").attr("readonly", "readonly");
                    $("#newPlantAutoIDCheck").prop("checked", false);
                    $("#newPlantAutoIDCheck").attr("disabled", "disabled");
                    $("#newPlantAutoIDCheckLabel").css("opacity", 0.50);
                    fillPlantInputs(wtf);
                    new bootstrap.Tab(tab).show();
                }
            }
            function createNewUser() {
                let content = "<div><label for='newUserUsernameInput' class='form-label'>Benutzername:</label><input type='text' class='form-control' id='newUserUsernameInput' placeholder='Benutzername eingeben'></div>";
                content += "<div class='mt-3'><label for='newUserSurnameInput' class='form-label'>Nachname:</label><input type='text' class='form-control' id='newUserSurnameInput' placeholder='Nachnamen eingeben'></div>";
                content += "<div class='mt-3'><label for='newUserFornameInput' class='form-label'>Vorname:</label><input type='text' class='form-control' id='newUserFornameInput' placeholder='Vornamen eingeben'></div>";
                let data = {
                    modal: {
                        name: "addNewUser"
                    },
                    title: {
                        text: "Neuen Benutzer erstellen"
                    },
                    content: {
                        text: content
                    },
                    footer: {
                        buttons: {
                            default: {
                                text: "Abbrechen",
                                class: "btn-danger",
                                attributes: {
                                    id: "Fritz"
                                }
                            },
                            custom: [
                                {
                                    text: "Speichern",
                                    class: "btn-primary",
                                    attributes: {
                                        id: "saveNewUserButton"
                                    },
                                    actions: [
                                        {
                                            click: [
                                                {
                                                    function: function() {
                                                        if ($("#body-overlay").length == 0) {
                                                            $("body").prepend("<div id='body-overlay' style='background-color: transparent'></div>");
                                                        }
                                                        if ($("#saveNewUserButton").find("[data-processing='true']").length == 0) {
                                                            $("#saveNewUserButton").attr("disabled", "disabled").prepend("<span class='spinner-border me-1 text-white kreiselchen align-text-bottom' data-processing='true'></span>");
                                                        }
                                                        $("#mainModal .modal-footer > [data-bs-dismiss='modal']").attr("disabled", "disabled");
                                                        $("#mainModal .modal-header > [data-bs-dismiss='modal']").attr("disabled", "disabled");
                                                        $("#mainModal .modal-body > .alert").remove();
                                                        $.post("lol", {
                                                            username: $("#newUserUsernameInput").val(),
                                                            surname: $("#newUserSurnameInput").val(),
                                                            forename: $("#newUserFornameInput").val()
                                                        }).done(function(response) {
                                                        }).fail(function(response) {
                                                            $("#mainModal .modal-body").prepend(Alert.create("danger", response["status"] + ": " + response["statusText"]));
                                                        }).always(function() {
                                                            $("#saveNewUserButton").find("[data-processing='true']").remove();
                                                            $("#saveNewUserButton").removeAttr("disabled");
                                                            $("#body-overlay").remove();
                                                            $("#mainModal .modal-footer > [data-bs-dismiss='modal']").removeAttr("disabled");
                                                            $("#mainModal .modal-header > [data-bs-dismiss='modal']").removeAttr("disabled");
                                                        });
                                                    }
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                };
                Modal.create(data);
            }
            function fillPlantInputs(wtf) {
                let selectedPlant = Number.parseInt(wtf);
                if (plantIDs.hasOwnProperty(selectedPlant)) {
                    $("#newPlantIdInput").val(wtf);
                    let index = plantProperties.findIndex(key => key["id"] === selectedPlant);
                    if (index >= 0) {
                        $("#newPlantDescriptionInput").val(plantProperties[index]["description"]);
                        if ($("#editPlantHeader").length == 0) {
                            $("#plantsAdminCreationContainer").prepend("<h4 class='mt-3 mb-4' id='editPlantHeader'>Pflanze &quot;" + plantProperties[index]["description"] + "&quot; bearbeiten</h4>")
                        }
                        let properties = Object.getOwnPropertyNames(plantProperties[index]["properties"]);
                        for (property of properties) {
                            let propertyName = property[0].toUpperCase() + property.substring(1, property.length);
                            let values = Object.getOwnPropertyNames(plantProperties[index]["properties"][property]);
                            for (value of values) {
                                let inputName = value[0].toUpperCase() + value.substring(1, value.length);
                                let inputElement = "#newPlant" + propertyName + inputName + "Input";
                                $(inputElement).val(plantProperties[index]["properties"][property][value]);
                            }
                        }
                    }
                }
            }
            function confirmation(element, options = {}) {
                let data = {
                    modal: {
                        name: "confirmation"
                    },
                    title: {
                        text: (options.hasOwnProperty("title") ? options["title"] : "Bestätigung")
                    },
                    content: {
                        text: (options.hasOwnProperty("content") ? options["content"] : "Soll diese Aktion wirklich ausgeführt werden?")
                    },
                    footer: {
                        buttons: {
                            default: {
                                text: "Nein",
                                class: "btn-primary"
                            },
                            custom: [
                                {
                                    text: "Ja",
                                    class: "btn-danger",
                                    actions: [
                                        {
                                            click: [
                                                {
                                                    function: function() { 
                                                        let event = $.Event("modalConfirmation", {response: true, sender: element});
                                                        $(window).trigger(event);
                                                    },
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    }
                };
                Modal.create(data);
            }
            $(window).on("load", function() {
                $("#body-overlay").empty();
                $("#body-overlay").css("opacity", 0).on("transitionend", function() {
                    $(this).remove();
                    $("body").removeClass("overflow-hidden");
                });
            });
            $(window).on("resize", function() {
                let width = window["visualViewport"]["width"];
                /*
                if (width >= 1 && width <= 600) {
                    let dataTables = Object.getOwnPropertyNames(adminDataTables);
                    for (dataTable of dataTables) {
                        adminDataTables[dataTable].column(0).visible(false);
                        adminDataTables[dataTable].tables().header().to$().addClass("d-none");
                    }
                    console.log("max 600", width);
                }
                else if (width >= 600 && width <= 768) {
                    console.log("max 768", width);
                }
                else if (width >= 768 && width <= 992) {
                    let dataTables = Object.getOwnPropertyNames(adminDataTables);
                    for (dataTable of dataTables) {
                        adminDataTables[dataTable].column(0).visible(true);
                        adminDataTables[dataTable].tables().header().to$().removeClass("d-none");
                    }
                    console.log("max 992", width);
                }
                else if (width >= 992 && width <= 1200) {
                    console.log("max 1200", width);
                }
                else if (width >= 1200) {
                    console.log("1200+", width);
                }
                if ($("#plantsAdminCreationContainer").hasClass("active")) {
                    $("#newPlantContainer").css("max-height", $("#newPlantNavigation").outerHeight(true) + "px");
                }*/
            });
            $(window).on("modalConfirmation", function(element) {
                // pflanzen, benutzer, programme löschen...
                switch ($(element["sender"]).attr("data-confirmation-sender")) {
                    case "discardEditedPlant":
                        $("#newPlantContainer input[type='text']").val("");
                        isPlantEditingActive = false;
                        $("a[href='#plantsAdminOverviewContainer']").removeClass("disabled");
                        $("a[href='#plantsAdminCreationContainer']").html("Erstellen");
                        $("#savePlantButton").html("<i class='fas fa-plus'></i> Hinzufügen");
                        $(this).html("<i class='fas fa-trash-alt'></i> Löschen");
                        $("#newPlantIdInput").removeAttr("readonly");
                        $("#newPlantAutoIDCheck").prop("checked", true);
                        $("#newPlantAutoIDCheck").removeAttr("disabled");
                        $("#newPlantAutoIDCheckLabel").css("opacity", 1);
                        $("#editPlantHeader").remove();
                        break;
                    case "destroyPlant":
                        console.log(element);
                        break;
                    default:
                        break;
                }
                bootstrap.Modal.getInstance($("#mainModal")).hide();
            });
            document.addEventListener("DOMContentLoaded", function() {
                // Hier alle Skripte ausführen, die auf DOM zugreifen sollen, bevor Bilder und Ähnliches geladen wurden 
                $("a[href='#systemInfos']").click(function() {
                    let content = "<table class='table-sm w-100'>";
                    content += "<thead>";
                    content += "<tr>";
                    content += "<th class='w-25'>Eigenschaft</th>";
                    content +=" <th>Wert</th>";
                    content += "</tr>";
                    content += "</thead>";
                    content += "<tbody id='systemInfosTable'>";
                    content += "</tbody>";
                    content += "</table>";
                    let data = {
                        modal: {
                            name: "systemInfos"
                        },
                        title: {
                            text: "Systeminformationen"
                        },
                        content: {
                            text: content,
                            options: {
                                scroll: true
                            }
                        }
                    };
                    Modal.create(data);
                    updateSystemInfos();
                });
                $("a[href='#staff']").click(function() {
                    let content = "<table class='table-borderless'><thead></thead><tbody><tr><td class='align-text-top pe-3'>Projektleitung</td><td>Luca Israel<br>Jessica Gerken</td></tr>";
                    content += "<tr><td class='align-text-top pe-3'>Konstruktion</td><td>Ali Fikdusimir<br>Mahatma Buddah Meimuddah</td></tr><tr><td class='align-text-top pe-3'>Materialbeschaffung</td>";
                    content += "<td>Mario Nette<br>Peter Silie</td></tr><tr><td class='align-text-top pe-3'>Backend-Entwicklung</td><td>Paul Jongmanns<br>Lars Friedrich<br>Fabian</td></tr>";
                    content += "<tr><td class='align-text-top pe-3'>Datenbankentwicklung</td><td>Lars<br>Kevin Müller<br>Jan<br>Deon<br>Emanuel<br>René<br>Milan</td></tr><tr><td class='align-text-top pe-3'>Frontend-Entwicklung</td>";
                    content += "<td>Milan Kola<br>Christian Sander<br>Jan Bremen<br>Deon Gulbinat</td></tr><tr><td class='align-text-top pe-3'>Elektronik</td><td>Matties<br>Tristan<br>Marvin<br>";
                    content += "Calvin</td></tr></tbody></table>";
                    let data = {
                        modal: {
                            name: "staff"
                        },
                        title: {
                            text: "Mitwirkende"
                        },
                        content: {
                            options: {
                                scroll: true
                            },
                            text: content
                        }
                    };
                    Modal.create(data);
                });
                $("a[href='#about']").click(function() {
                    let content = "<img src='img/logo_large.png' id='hydroPocLogo'><p>&quot;HydroPoc&quot;, ein hydroponisches System, ist ein Ganzjahresschulprojekt von der gesamten Klasse der IN20 an der BSDGG.</p>";
                    content += "<h4 class='mb-1'>Anschrift</h4><p>Berufliche Schule für Dienstleistung, Gewerbe und Gestaltung<br>Georg-Büchner-Str. 13<br>27574 Bremerhaven</p>";
                    content += "<h4 class='mb-1'>Kontakt</h4><p>Telefon: (0471) 30 94 650<br>Web: <a href='https://www.bsdgg.de' target='_blank'>https://www.bsdgg.de</a></p>";
                    let data = {
                        modal: {
                            size: "lg",
                            name: "about"
                        },
                        title: {
                            text: "Über"
                        },
                        content: {
                            text: content
                        }
                    };
                    Modal.create(data);
                    $("#hydroPocLogo").on("click", function() {
                        $(this).addClass("contract");
                    }).on("animationend", function(wtf) {
                        if (wtf["originalEvent"]["animationName"] == "contract") {
                            $(this).removeClass("contract").addClass("boing");
                        }
                        else {
                            $(this).removeClass("boing");
                            this.offsetWidth;
                        }
                    });
                });
                $("#applyPlantTemplateButton").click(function() {
                    fillPlantInputs($("#plantsAdminPlantSelection").val());
                });
                $("#savePlantButton").click(function() {
                    //$().attr("data-plant-id");
                });
                $("#discardPlantButton").click(function() {
                    // neue und bestehende pflanze unterscheiden?
                    confirmation(this, {title: "Bearbeitung abbrechen", content: "Soll die Bearbeitung der aktuellen Pflanze wirklich abgebrochen werden?"});
                });
                $("a[href='#login']").click(function() {
                    let content = "<div><label for='username' class='form-label'>Benutzername:</label>";
                    content += "<input type='text' class='form-control' id='username' placeholder='Benutzernamen eingeben'></div>";
                    content += "<div class='mt-3'><label for='password' class='form-label'>Passwort:</label>";
                    content += "<input type='password' class='form-control' id='password' placeholder='Passwort eingeben'></div>";
                    content += "<div class='d-flex mt-3 justify-content-between align-items-center'><button onclick='login(this)' class='btn btn-primary'>Anmelden";
                    content += "</button><a href='#'>Ich habe mein Passwort vergessen!</a></div>";
                    let data = {
                        modal: {
                            name: "login"
                        },
                        title: {
                            text: "Anmelden"
                        },
                        content: {
                            text: content
                        }
                    };
                    Modal.create(data);
                });
                $("#mainModal").on("hide.bs.modal", function() {
                    $(this).removeAttr("data-name");
                    if ($("#hydroPocLogo") !== undefined) {
                        $("#hydroPocLogo").off("click animationend");
                    }
                });
                $(".config-chart-button").click(function() {
                    $("#chartHistoryElementTitle").html($(this).attr("data-chart-title"));
                    $("#historyTimespan").attr("data-chart", $(this).attr("data-chart"));
                });
                $.get("dataTables_test.php", {type: "plants"}).done(function(response) {
                    let data = JSON.parse(response);
                    let plants = data["data"];
                    for (plant of plants) {
                        plantIDs[plant["id"]] = plant["name"];
                        $("#plantSelection").append("<option value='" + plant["id"] + "'>" + plant["name"] + " (" + plant["id"] + ")" + "</option>");
                        
                    }
                    $("#plantSelection").val(plants[0]);
                    currentChartPlant = plants[0];
                });
                // Nur als Admin sichtbar
                $.get("dataTables_test.php", {type: "plantPrograms"}).done(function(response) {
                    let data = JSON.parse(response);
                    let programs = data["data"];
                    for (program of programs) {
                        plantPrograms.push({id: program["id"], plantID: program["plantID"], name: program["name"]});
                    }
                });
                let date = new Date();
                $("footer").html("&copy; " + (date.getFullYear() >= 2022 ? "2021-" + date.getFullYear() : date.getFullYear()) + " BSDGG/IN20");
                $("#plantSelection").change(function() {
                    if (plantIDs.hasOwnProperty($(this).val())) {
                        $("#plantProgramSelection").empty();
                        $(this).attr("disabled", "disabled");
                        $("#plantProgramSelection").attr("disabled", "disabled");
                        for (program of plantPrograms) {
                            if (program["plantID"] == $(this).val()) {
                                $("#plantProgramSelection").append("<option value='" + program["id"] + "'>" + program["name"] + "</option>");
                            }
                        }
                        $(this).removeAttr("disabled");
                        $("#plantProgramSelection").removeAttr("disabled");
                    }
                });
                /*
                $("#eventsAdminCategorySelection").change(function() {
                    // Wenn nur eine Kategorie ausgewählt war und nun alle Kategorien aufgelistet werden sollen
                    let options = {};
                    let value = Number.parseInt($(this).val());
                    Object.assign(options, dataTablesAdminOptions["events"]);
                    options["ajax"]["dataSrc"] = function(response) {
                        return response["data"];
                    };
                    if (Number.parseInt($(this).attr("data-old")) >= 1 && value <= 0) {
                        options["rowGroup"] = {
                            dataSrc: "category",
                            className: "bg-gray-200",
                            // render ist nur nötig, wenn in der Gruppe noch eigene Elemente stehen sollen
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='3' class='align-middle' style='color: #282828'>" + group + "</td><td colspan='2' class='fritz'><button class='btn btn-sm btn-success' onclick='createNewEvent(" + group + ")'><i class='fas fa-asterisk'></i> Neu...</button></td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                    }
                    options["destroy"] = true;
                    if (value >= 1) {
                        options["ajax"]["data"]["category"] = value;
                    }
                    else {
                        delete options["ajax"]["data"]["category"];
                    }
                    $(this).attr("data-old", value);
                    $("#eventsAdminTable").DataTable(options);
                });
                */
                $("#plantProgramsAdminPlantSelection").change(function() {
                    let options = {};
                    let value = Number.parseInt($(this).val());
                    Object.assign(options, dataTablesAdminOptions["plantPrograms"]);
                    options["ajax"]["dataSrc"] = function(response) {
                        return response["data"];
                    };
                    if (Number.parseInt($(this).attr("data-old")) >= 1 && value <= 0) {
                        options["rowGroup"] = {
                            dataSrc: "plantID",
                            className: "bg-gray-200",
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='3' class='align-middle' style='color: #282828'>" + plantIDs[group] + "</td><td colspan='2' class='fritz'><button class='btn btn-sm btn-success' onclick='createNewPlantProgram(" + group + ")'><i class='fas fa-asterisk'></i> Neu...</button></td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                    }
                    options["destroy"] = true;
                    if (value >= 1) {
                        options["ajax"]["data"]["category"] = value;
                    }
                    else {
                        delete options["ajax"]["data"]["category"];
                    }
                    $(this).attr("data-old", value);
                    adminDataTables["plantPrograms"] = $("#plantProgramsAdminTable").DataTable(options);
                });
                $("#logsAdminCategorySelection").change(function() {
                    let options = {};
                    let value = Number.parseInt($(this).val());
                    Object.assign(options, dataTablesAdminOptions["logs"]);
                    options["ajax"]["dataSrc"] = function(response) {
                        return response["data"];
                    };
                    if (Number.parseInt($(this).attr("data-old")) >= 1 && value <= 0) {
                        options["rowGroup"] = {
                            dataSrc: "category",
                            className: "bg-gray-200",
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='3' class='align-middle' style='color: #282828'>" + dataTablesRowGroupStrings["logs"][group] + "</td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                    }
                    options["destroy"] = true;
                    if (value >= 1) {
                        options["ajax"]["data"]["category"] = value;
                    }
                    else {
                        delete options["ajax"]["data"]["category"];
                    }
                    $(this).attr("data-old", value);
                    adminDataTables["logs"] = $("#logsAdminTable").DataTable(options);
                });
                /*
                $("#plantsAdminPlantSelection").change(function() {
                    let options = {};
                    let value = Number.parseInt($(this).val());
                    Object.assign(options, dataTablesAdminOptions["plants"]);
                    options["ajax"]["dataSrc"] = function(response) {
                        return response["data"];
                    };
                    if (Number.parseInt($(this).attr("data-old")) >= 1 && value <= 0) {
                        options["rowGroup"] = {
                            dataSrc: "name",
                            className: "bg-gray-200",
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='3' class='align-middle' style='color: #282828'>" + plantIDs[group] + "</td><td colspan='2' class='fritz'><button class='btn btn-sm btn-success' onclick='addNewPlant(" + group + ")'><i class='fas fa-asterisk'></i> Neu...</button></td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                    }
                    options["destroy"] = true;
                    if (value >= 1) {
                        options["ajax"]["data"]["category"] = value;
                    }
                    else {
                        delete options["ajax"]["data"]["category"];
                    }
                    $(this).attr("data-old", value);
                    $("#plantsAdminTable").DataTable(options);
                });
                */
                $("#user-actions-accordion").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#userAccountsAdminTable")) {
                        let options = {};
                        Object.assign(options, dataTablesAdminOptions["userAccounts"]);
                        options["ajax"]["dataSrc"] = function(response) {
                            return response["data"];
                        };
                        adminDataTables["userAccounts"] = $("#userAccountsAdminTable").DataTable(options);
                    }
                    else {
                        $("#userAccountsAdminTable").DataTable().ajax.reload();
                    }
                });
                $("#plants-programs-accordion").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#plantProgramsAdminTable")) {
                        let options = {};
                        Object.assign(options, dataTablesAdminOptions["plantPrograms"]);
                        options["ajax"]["dataSrc"] = function(response) {
                            return response["data"];
                        };
                        options["rowGroup"] = {
                            dataSrc: "plantID",
                            className: "bg-gray-200",
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='2' class='align-middle' style='color: #282828'>" + plantIDs[group] + "</td><td colspan='2' class='fritz'><button class='btn btn-sm btn-success' onclick='createNewPlantProgram(" + group + ")'><i class='fas fa-asterisk'></i> Neu...</button></td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                        let plants = Object.getOwnPropertyNames(plantIDs);
                        for (plant of plants) {
                            $("#plantProgramsAdminPlantSelection").append("<option value='" + plant + "'>" + plantIDs[plant] + "</option>");
                        }
                        adminDataTables["plantPrograms"] = $("#plantProgramsAdminTable").DataTable(options).on("responsive-resize", function(e, datatable, columns) {
                            let hiddenColumns = columns.filter(function(column) {
                                return column === false;
                            });
                            let totalColumns = $("#plantProgramsAdminTable > thead > tr > th").length;
                            // colspan ändern
                            if (hiddenColumns.length >= 1) {
                                $("#plantProgramsAdminTable > tbody > tr.dtrg-start > td:first-of-type").attr("colspan", hiddenColumns.length);
                            }
                            else {
                                $("#plantProgramsAdminTable > tbody > tr.dtrg-start > td:first-of-type").attr("colspan", totalColumns -2);
                            }
                            $("#plantProgramsAdminTable").columns.adjust().draw();
                        });
                    }
                    else {
                        $("#plantProgramsAdminTable").DataTable().ajax.reload();
                    }
                });
                $("#pump-actions-accordion").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#pumpsAdminTable")) {
                        let options = {};
                        Object.assign(options, dataTablesAdminOptions["pumps"]);
                        options["ajax"]["dataSrc"] = function(response) {
                            return response["data"];
                        };
                        adminDataTables["pumps"] = $("#pumpsAdminTable").DataTable(options);
                    }
                    else {
                        $("#pumpsTable").DataTable().ajax.reload();
                    }
                });
                $("#events-accordion").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#eventsAdminTable")) {
                        let options = {};
                        Object.assign(options, dataTablesAdminOptions["events"]);
                        options["ajax"]["dataSrc"] = function(response) {
                            return response["data"];
                        };
                        options["rowGroup"] = {
                            dataSrc: "category",
                            className: "bg-gray-200",
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='2' class='align-middle' style='color: #282828'>" + group + "</td><td colspan='2' class='fritz'><button class='btn btn-sm btn-success' onclick='createNewEvent(" + group + ")'><i class='fas fa-asterisk'></i> Neu...</button></td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                        adminDataTables["events"] = $("#eventsAdminTable").DataTable(options);
                    }
                    else {
                        $("#eventAdminsTable").DataTable().ajax.reload();
                    }
                });
                $("#collapse-logs-actions").on("shown.bs.collapse", function() {
                    if (!DataTable.isDataTable("#logsAdminTable")) {
                        let options = {};
                        Object.assign(options, dataTablesAdminOptions["logs"]);
                        options["ajax"]["dataSrc"] = function(response) {
                            return response["data"];
                        };
                        options["rowGroup"] = {
                            dataSrc: "category",
                            className: "bg-gray-200",
                            endRender: null,
                            startRender: function(rows, group) { return $("<tr>").append("<td colspan='3' class='align-middle' style='color: #282828'>" + dataTablesRowGroupStrings["logs"][group] + "</td>"); }
                        };
                        options["orderFixed"] = [0, "asc"];
                        adminDataTables["logs"] = $("#logsAdminTable").DataTable(options);
                    }
                    else {
                        $("#logsAdminTable").DataTable().ajax.reload();
                    }
                });
                $("#collapse-plants-actions").on("shown.bs.collapse", function(element) {
                    if ($(element["target"]).attr("data-bs-parent") == "#plants-accordion") {
                        if (!DataTable.isDataTable("#plantsAdminTable")) {
                            let options = {};
                            Object.assign(options, dataTablesAdminOptions["plants"]);
                            options["ajax"]["dataSrc"] = function(response) {
                                Object.assign(plantProperties, response["data"]);
                                return response["data"];
                            };
                            adminDataTables["plants"] = $("#plantsAdminTable").DataTable(options);
                        }
                        else {
                            $("#plantsAdminTable").DataTable().ajax.reload();
                        }
                    }
                });
                $("a[href='#plantsAdminCreationContainer']").on("shown.bs.tab", function() {
                    $("#newPlantContainer").css("max-height", $("#newPlantNavigation").outerHeight(true) + "px");
                    $("#plantsAdminPlantSelection").empty();
                    let plants = Object.getOwnPropertyNames(plantIDs);
                    if (plants.length >= 1) {
                        $("#applyPlantTemplateButton").removeAttr("disabled");
                        for (plant of plants) {
                            $("#plantsAdminPlantSelection").append("<option value='" + plant + "'>" + plantIDs[plant] + "</option>");
                        }
                    }
                });
                // Aktuell
                charts["current"]["co2"] = new Chart($("#co2-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect",
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        },
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["co2"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["temperature"] = new Chart($("#temperature-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["temperature"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["salinity"] = new Chart($("#salinity-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["salinity"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["waterlevel"] = new Chart($("#waterlevel-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["waterlevel"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["ph"] = new Chart($("#ph-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["ph"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["ventilation"] = new Chart($("#ventilation-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["ventilation"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["current"]["brightness"] = new Chart($("#brightness-chart-current")[0].getContext("2d"), {
                    options: {
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect"
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        layout: {
                            padding: {
                                top: 10
                            }
                        },
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["current"]["brightness"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: { // defining min and max so hiding the dataset does not change scale range
                                min: 0, // muss individuell für jedes diagrammm festgelegt werden
                                max: 100
                            }
                        }
                    },
                    type: "line",
                    data: {
                        datasets: [
                            {
                                label: "Aktueller Wert",
                                stack: "current",
                                borderColor: "black",
                                backgroundColor: "rgba(0, 0, 0, 0.75)",
                                borderWidth: 1
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "green",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Sollwert",
                                stack: "setpoint",
                                borderColor: "orange",
                                backgroundColor: "rgba(253, 126, 20, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Eingriffsgrenze",
                                stack: "upperControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Obere Warngrenze",
                                stack: "upperWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Eingriffsgrenze",
                                stack: "lowerControlLimit",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                borderDash: [10, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Untere Warngrenze",
                                stack: "lowerWarningLimit",
                                borderColor: "rgb(255, 127, 39)",
                                backgroundColor: "rgba(255, 127, 39, 0.75)",
                                borderWidth: 1,
                                borderDash: [5, 5],
                                pointStyle: "line"
                            },
                            {
                                label: "Aktoraktivität",
                                stack: "actuator",
                                borderColor: "rgb(112, 146, 190)",
                                backgroundColor: "rgba(112, 146, 190, 0.75)",
                                borderWidth: 1,
                                pointStyle: "line",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(112, 146, 190, 0.5)", 1: "rgba(255, 255, 255, 0.5)"});
                                    }
                                }
                            }
                        ]
                    }
                });
                charts["history"] = new Chart($("#charts-history")[0].getContext("2d"), {
                    type: "line",
                    options: {
                        plugins: {
                            legend: {
                                labels: {
                                    usePointStyle: true,
                                    pointStyle: "rect",
                                    font: {
                                        size: 14,
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            },
                            tooltip: {
                                titleFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                bodyFont: {
                                    family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                },
                                boxPadding: 3
                            }
                        },
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    },
                                    callback: function(val, index) {
                                        return index % 4 === 0 ? charts["history"]["data"]["labels"][index] : "";
                                    }
                                }
                            },
                            y: {
                                min: 0,
                                max: 100,
                                ticks: {
                                    font: {
                                        family: "'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', 'Liberation Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji','Segoe UI Symbol', 'Noto Color Emoji'"
                                    }
                                }
                            }
                        }
                    },
                    data: {
                        datasets: [
                            {
                                label: "Messwert",
                                stack: "measured",
                                borderColor: "rgb(219, 112, 147)",
                                backgroundColor: "rgba(219, 112, 147, 0.75)",
                                borderWidth: 1,
                                pointStyle: "circle",
                                fill: {
                                    target: "start",
                                    above: function(context) {
                                        let chart = context.chart;
                                        if (!chart) {
                                            return;
                                        }
                                        return getGradient(chart.ctx, chart.chartArea, {0: "rgba(219, 112, 147, 0.5)", 1: "rgba(219, 112, 147, 0.5)"});
                                    }
                                }
                            },
                            {
                                label: "Mittelwert",
                                stack: "middle",
                                borderColor: "rgb(0, 255, 0)",
                                backgroundColor: "rgba(0, 255, 0, 0.75)",
                                borderWidth: 2,
                                pointStyle: "line"
                            },
                            {
                                label: "Höchstwert",
                                stack: "highest",
                                borderColor: "rgb(220, 53, 69)",
                                backgroundColor: "rgba(220, 53, 69, 0.75)",
                                borderWidth: 2,
                                pointStyle: "circle"
                            },
                            {
                                label: "Tiefstwert",
                                stack: "lowest",
                                borderColor: "rgb(72, 61, 139)",
                                backgroundColor: "rgba(72, 61, 139, 0.75)",
                                borderWidth: 2,
                                pointStyle: "circle"
                            }
                        ]
                    }
                });
                $("[data-bs-toggle='collapse']").click(function() {
                    $(this).children("i:last-of-type").css("transform", ($(this).attr("aria-expanded") == "true" ? "rotate(180deg)" : "rotate(0deg)"));
                });
                $("#historyTimespan").change(function() {
                    $(this).attr("disabled", "disabled").after("<span class='spinner-border ms-2 text-primary kreiselchen' style='flex: 0 0 auto' data-processing='true'></span>");
                    $.post("history_charts_data.php", {
                        chart: $(this).attr("data-chart"),
                        lol: $(this).val()
                    }).done(function(response) {
                        let data = JSON.parse(response);
                        charts["history"]["data"]["labels"] = data["labels"];
                        let charts_ = Object.keys(data["data"]);
                        for (chart of charts_) {
                            let index = charts["history"]["data"]["datasets"].findIndex(key => key.stack === chart);
                            if (index >= 0 && data["data"][chart] !== null) {
                                Object.assign(charts["history"]["data"]["datasets"][index]["data"], data["data"][chart]);
                                charts["history"]["options"]["scales"]["x"]["min"] = data["labels"][0];
                                charts["history"]["options"]["scales"]["x"]["max"] = data["labels"][data["labels"].length -1];
                            }
                        }
                        charts["history"].update("none");
                    }).always(function() {
                        // Fehler: Entfernt ALLE Kreiselchen!
                        $("[data-processing='true']").remove();
                        $("#historyTimespan").removeAttr("disabled");
                    });
                });
                $("#historyGalleryTimespanSelect").change(function() {
                    let that = this;
                    $("#historyGallery").find(".alert").remove();
                    $(this).attr("disabled", "disabled").after("<span class='spinner-border ms-2 text-primary kreiselchen' style='flex: 0 0 auto' data-processing='true'></span>");
                    $.post("lol", {
                        history: $(this).val()
                    }).done(function(response) {
                    }).fail(function(response) {
                        $("#historyGallery").prepend(Alert.create("danger", response["status"] + ": " + response["statusText"]));
                    }).always(function() {
                        $(that).removeAttr("disabled");
                        $("#historyGallery").find("[data-processing='true']").remove();
                    });
                });
                // Neue Daten vom Server laden
                setInterval(function() {
                    // "current" gilt für das Diagramm der letzten Minute, "history" ist für das Verlaufsdiagramm
                    if (!isLoadingCurrentChartData) {
                        isLoadingCurrentChartData = true;
                        $.post("current_charts_data.php", {
                            labels: JSON.stringify(charts["current"]["co2"]["data"]["labels"]),
                            actuators: JSON.stringify(actuators)
                        }).done(function(response) {
                            let data = JSON.parse(response);
                            let items = Object.keys(data);
                            // item = Sensor, z.B. co2
                            for (item of items) {
                                if (charts["current"].hasOwnProperty(item)) {
                                    // chart z.B. "current"
                                    Object.assign(charts["current"][item]["data"]["labels"], data[item]["labels"]);
                                    let charts_ = Object.keys(data[item]["data"]); // current, setpoint, mean
                                    for (chart of charts_) {
                                        let index = charts["current"][item]["data"]["datasets"].findIndex(key => key.stack === chart);
                                        if (index >= 0 && data[item]["data"][chart] !== null) {

                                            // Aktorenaktionen
                                            if (chart == "actuator" && data[item]["data"]["actuator"]["enabled"] == 1) {
                                                currentIndex = charts["current"][item]["data"]["datasets"].findIndex(key => key.stack === "current");
                                                if (charts["current"][item]["data"]["datasets"][index]["data"].length >= 13) {
                                                    charts["current"][item]["data"]["datasets"][index]["data"].shift();
                                                }
                                                let lastXPosition = charts["current"][item]["data"]["datasets"][currentIndex]["data"].length -1;
                                                let lastXValue = charts["current"][item]["data"]["datasets"][currentIndex]["data"][lastXPosition]["x"];
                                                if (lastXValue == data[item]["data"]["actuator"]["data"]["x"]) {
                                                    // Letztes Element löschen, damit nicht zwei gleiche X-Werte angezeigt werden
                                                    charts["current"][item]["data"]["datasets"][currentIndex]["data"].splice(lastXPosition, 1);
                                                }
                                                // Damit Objekte wirklich zugewiesen werden, statt als Referenz!
                                                Object.assign(actuators[item], data[item]["data"]["actuator"]);
                                                delete actuators[item]["data"];
                                                if (data[item]["data"]["actuator"]["count"] == 0) {
                                                    actuators[item]["enabled"] = 0;
                                                }
                                                charts["current"][item]["data"]["datasets"][index]["data"].push(data[item]["data"]["actuator"]["data"]);
                                                charts["current"][item]["data"]["datasets"][currentIndex]["data"].push(data[item]["data"]["actuator"]["data"]);
                                            }
                                            else {
                                                if (charts["current"][item]["data"]["datasets"][index]["data"].length >= 13) {
                                                    charts["current"][item]["data"]["datasets"][index]["data"].shift();
                                                }
                                                charts["current"][item]["data"]["datasets"][index]["data"].push(data[item]["data"][chart]);
                                                charts["current"][item]["options"]["scales"]["x"]["min"] = data[item]["labels"][0];
                                                charts["current"][item]["options"]["scales"]["x"]["max"] = data[item]["labels"][data[item]["labels"].length -1];
                                                // Wenn Wert kleiner gleich Warnwert
                                                if ((Number(data[item]["data"]["current"]["y"]) <= Number(data[item]["data"]["lowerWarningLimit"]["y"]) && Number(data[item]["data"][chart]["y"]) > Number(data[item]["data"]["lowerControlLimit"]["y"])) || (Number(data[item]["data"]["current"]["y"]) >= Number(data[item]["data"]["upperWarningLimit"]["y"]) && Number(data[item]["data"][chart]["y"]) < Number(data[item]["data"]["upperControlLimit"]["y"]))) {
                                                    switchAlert(item, "warning");
                                                }
                                                else if ((Number(data[item]["data"]["current"]["y"]) >= Number(data[item]["data"]["upperControlLimit"]["y"]) && Number(data[item]["data"]["current"]["y"]) > Number(data[item]["data"]["upperWarningLimit"]["y"])) || (Number(data[item]["data"]["current"]["y"]) <= Number(data[item]["data"]["lowerControlLimit"]["y"]) && Number(data[item]["data"][chart]["y"]) < Number(data[item]["data"]["lowerWarningLimit"]["y"]))) {
                                                    switchAlert(item, "danger");
                                                    console.log("joo");
                                                }
                                                else {
                                                    switchAlert(item, "success");
                                                }
                                            }
                                        }
                                    }
                                    charts["current"][item].update("none"); // Sehr rechenintensiv bei zeitgleicher Aktualisierung aller Diagramme
                                    $("#section-" + item + "> div:last-of-type > canvas").css("visibility", "visible");
                                    $("#section-" + item + "> div:last-of-type > .chart-overlay ").css("display", "none");
                                }
                            }
                        }).always(function() {
                            isLoadingCurrentChartData = false;
                        });
                    }
                }, 5000);
            });
        </script>
        <style>
            @font-face {
                font-family: "Font Awesome 5 Brands";
                font-style: normal;
                font-weight: 400;
                font-display: block;
                src: url("font/free-fa-brands-400.woff") format("woff")
            }
            @font-face {
                font-family: "Font Awesome 5 Free";
                font-style: normal;
                font-weight: 400;
                font-display: block;
                src: url("font/free-fa-regular-400.woff") format("woff")
            }
            @font-face {
                font-family: "Font Awesome 5 Pro";
                font-style: normal;
                font-weight: 400;
                font-display: block;
                src: url("font/free-fa-regular-400.woff") format("woff")
            }
            @font-face {
                font-family: "Font Awesome 5 Free";
                font-style: normal;
                font-weight: 900;
                font-display: block;
                src: url("font/free-fa-solid-900.woff") format("woff")
            }
            @font-face {
                font-family:"Font Awe0some 5 Pro";
                font-style: normal;
                font-weight: 900;
                font-display: block;
                src: url("fonts/free-fa-solid-900.woff") format("woff")
            }
            :root {
                --alert-color-warning: #cd853f;
                --alert-background-warning: #f7e8cd;
                --alert-color-danger: #dc143c;
                --alert-background-danger: #ffe4e1;
                --alert-color-success: #228b22;
                --alert-background-success: #c0edc0;
                --chart-background-danger: #dc143c80;
                --chart-border-danger: #dc143cbf;
                --chart-background-warning: #cd853f80;
                --chart-border-warning: #cd853fbf;
                --chart-background-success: #228b2280;
                --chart-border-success: #228b22bf;
                --chart-background-info: #0dcaf080;
                --chart-border-info: #0dcaf0bf;
            }
            body {
                display: grid;
                grid-gap: 0;
                grid-template-rows: auto 1fr 71px;
                overflow-x: hidden;
                min-height: 100vh; 
                background-color: #f4f2e0;
                align-content: flex-start;
                background-image: url("img/moo.png");
                background-repeat: repeat;
                background-blend-mode: color;
            }
            #body-overlay {
                position: absolute;
                z-index: 9999;
                width: 100%;
                height: 100%;
                opacity: 1;
                background-color: #ffffff;
                transition: opacity 1s;
                display: flex;
                align-content: center;
                align-items: center;
                justify-content: center;
            }
            main {
                grid-column: 1 / 3;
                grid-row: 2 / 2;
                display: flex;
                align-items: flex-start;
                justify-content: center;
                padding: 0 5%;
            }
            main > div.row:first-of-type {
                flex: 0 1 100%
            }
            header {
                grid-column: 1 / 3;
                grid-row: 1 / 1;
                display: flex;
                flex-direction: column;
                align-self: flex-start;
                background-image: linear-gradient(90deg, #32887c, #458084, #32887c);
                border-top: 1px solid #76a5a8;
                border-bottom: 1px solid #76a5a8;
                height: 50px;
                color: #fff;
                justify-content: center;
            }
            #logo {
                background-image: url("img/logo.png");
                background-size: 114px 32px;
                background-repeat: no-repeat;
                width: 114px;
                height: 32px;
                filter: drop-shadow(0 1px black);
            }
            footer {
                height: 50px;
                color: white; 
                grid-column: 1 / 3;
                grid-row: 3 / 3;
                align-self: flex-end;
                background-image: linear-gradient(90deg, #32887c, #458084, #32887c);
                border-top: 1px solid #76a5a8;
                border-bottom: 1px solid #76a5a8;
                text-shadow: 0 1px 0 black;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            [data-bs-toggle="collapse"] > i {
                transition: transform 250ms;
            }
            #overviewPanel {
                display: grid;
                /* Höhe */
                grid-auto-rows: minmax(350px, auto);
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
                /* Breite */ 
                grid-gap: 10px;
                align-content: flex-start;
                justify-content: space-between
            }
            #historyGalleryPanel {
                display: grid;
                /* Höhe */
                grid-auto-rows: minmax(250px, auto);
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                /* Breite */ 
                grid-gap: 10px;
                align-content: flex-start;
                justify-content: unset
            }
            .historyGalleryItem {
                border: 2px solid var(--bs-gray-300, #dee2e6);
                transition: border 200ms ease-in-out 0s;
                border-radius: 5px;
            }
            .historyGalleryItem:hover {
                cursor: pointer;
                border: 2px solid var(--bs-gray-500, #adb5bd);
            }
            .historyGalleryItem > div:first-of-type {
                background-color: black;
                flex: 0 1 100%;
                border-radius: 5px;
            }
            .historyGalleryItem > div:first-of-type > div:first-of-type {
                margin: 0 auto 0 auto;
                min-height: 100%;
                max-width: 200px;
                align-self: flex-start;
                background: url('img/test1.jpg') no-repeat left top/100% 100%
            }
            section.lol {
                border: 2px solid var(--bs-gray-300, #dee2e6)
            }
            section.lol div:first-of-type {
                flex: 0 0 28px
            }
            section.lol > div:first-of-type > span:first-of-type {
                font-weight: bold;
                font-size: 1rem;
                vertical-align: middle;
                color: var(--bs-gray-600, #6c757d)
            }
            canvas[id$="-chart-current"] {
                visibility: hidden
            }
            .chart-overlay > h2, #body-overlay > h1 {
                color: var(--bs-gray-500, #adb5bd);
                margin: 0
            }
            .chart-overlay {
                position: absolute;
                z-index: 2;
                width: 100%;
                height: 100%;
                align-items: center;
                align-content: center;
                justify-content: center;
                display: flex
            }
            section.lol.warning {
                background-color: var(--alert-background-warning);
                border: 2px dashed var(--alert-color-warning);
                animation: background-flashing-warning 3s linear 0s infinite
            }
            section.lol.danger {
                background-color: var(--alert-background-danger);
                border: 2px dashed var(--alert-color-danger);
                animation: background-flashing-danger 1s linear 0s infinite
            }
            .tab-content:not(.tab-content-simple) {
                background-color: #fbfbfb;
                border-bottom-left-radius: 5px;
                border-bottom-right-radius: 5px;
                border-top-right-radius: 5px;
                box-shadow: 0 1px 4px 0px var(--bs-gray-600, #6c757d);
            }
            #tabNavigation {
                border-bottom-width: 0 !important;
            }
            #tabNavigation .nav-link.active::after {
                content: "";
                position: absolute;
                width: 100%;
                height: 15px;
                left: 0;
                bottom: -12px;
                z-index: 10;
                background-color: #fbfbfb;
                display: block
            }
            #tabNavigation .nav-item {
                position: relative
            }
            #tabNavigation .nav-item:first-of-type::after {
                content: "";
                position: absolute;
                width: 6px;
                height: 5px;
                right: -3px;
                bottom: -6px;
                z-index: 10;
                background-color: #fbfbfb;
            }
            #tabNavigation .nav-item:last-of-type::after {
                content: "";
                position: absolute;
                width: 6px;
                height: 5px;
                right: -3px;
                bottom: -6px;
                z-index: 10;
                background-color: #fbfbfb;
            }
            #tabNavigation .nav-item:first-of-type .nav-link.active::before {
                content: "";
                position: absolute;
                width: 1px;
                height: 40px;
                left: -1px;
                bottom: -20px;
                z-index: 10;
                background-color: var(--bs-gray-300, #dee2e6);
            }
            #tabNavigation .nav-link.active {
                background-color: #fbfbfb !important;
                border-bottom-color: #fbfbfb !important;
                position: relative;
                box-shadow: 0 1px 4px 0px var(--bs-gray-600, #6c757d)
            }
            #tabNavigation .nav-link.disabled {
                border: 1px solid var(--bs-gray-200, #e9ecef) !important;
            }
            #tabNavigation a.nav-link:not(.disabled, .active):hover, #tabNavigation a.nav-link:not(.disabled, .active):active,
            #tabNavigation a.nav-link:not(.disabled, .active):focus {
                border: 1px solid var(--bs-gray-300, #dee2e6) !important;
                border-bottom: 1px solid transparent !important
            }
            nav {
                flex: 1 0 100%;
            }
            #first-navbar > li:not(:last-of-type) {
                margin-right: 0.25rem;
            }
            #second-navbar > li:not(:first-of-type, :last-of-type) {
                margin-right: 0.25rem;
            }
            #navigation > ul > li > a:not(.disabled), #navigation > ul > li > a:not(.disabled):visited {
                color: white;
            }
            #navigation > ul > li > a {
                text-shadow: 0 1px 0 black
            }
            #navigation > ul > li > a:not(.disabled):hover, #navigation > ul > li > a:not(.disabled):active, #navigation > ul > li > a.active {
                color: black !important;
                background-color: #f6ffff;
                box-shadow: 0 1px 1px 0px rgba(0, 0, 0, 0.5);
                text-shadow: 0 0 0 transparent
            }
            .card-header {
                padding: 0 !important;
            }
            hr {
                opacity: 1 !important;
            }
            table {
                border-spacing: 0;
                border-radius: 2px;
                border-collapse: separate !important;
                overflow: hidden;
            }
            table > thead > tr > th:first-of-type {
                border-top-left-radius: 2px;
            }
            table > thead > tr > th:last-of-type {
                border-top-right-radius: 2px;
            }
            table > thead > tr > th {
                border-left: 1px solid var(--bs-gray-300, #dee2e6) !important;
            }
            table > thead > tr > th {
                border-top: 1px solid var(--bs-gray-300, #dee2e6) !important;
                border-bottom: 2px solid var(--bs-gray-300, #dee2e6) !important;
                background-color: #f7f7f7 !important
            }
            table > thead > tr > th:last-of-type {
                border-right: 1px solid var(--bs-gray-300, #dee2e6) !important;
            }
            table.dataTable:not(.table-borderless) > thead > tr > th:last-of-type {
                border-right: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table.dataTable:not(.table-borderless) > tbody > tr > td:not(.fritz) {
                border-left: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table.dataTable:not(.table-borderless) > tbody > tr:not(.dtrg-start) > td:nth-last-of-type(2) {
                border-right: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table.dataTable:not(.table-borderless) > tbody > tr.dtrg-start > td:nth-last-of-type(2) {
                border-right: 1px solid transparent
            }
            table.dataTable:not(.table-borderless) > tbody > tr:last-of-type > td {
                border-bottom: 1px solid var(--bs-gray-300, #dee2e6) !important
            }
            table.dataTable:not(.table-borderless) > tbody > tr:last-of-type > td:first-of-type {
                border-bottom-left-radius: 2px
            }
            table.dataTable:not(.table-borderless) > tbody > tr:last-of-type > td:last-of-type {
                border-bottom-right-radius: 2px
            }
            /* Normale Tabllen */
            table:not(.table-borderless, .dataTable) > tbody > tr > td:last-of-type {
                border-right: 1px solid var(--bs-gray-300, #dee2e6)
            }
            table:not(.table-borderless, .dataTable) > tbody > tr > td {
                border-bottom: 1px solid var(--bs-gray-300, #dee2e6);
                border-left: 1px solid var(--bs-gray-300, #dee2e6)
            }
            i.user-offline {
                color: var(--alert-color-danger);
                text-shadow: 0 0 3px var(--alert-color-danger);
            }
            i.user-online {
                color: var(--alert-color-success);
                text-shadow: 0 0 3px var(--alert-background-success);
            }
            #hydroPocLogo {
                width: 287px;
                height: 80px;
            }
            .contract {
                animation: contract 1s ease-in-out 0s 1;
            }
            .boing {
                animation: boing 1s ease-in-out 0s 1;
            }
            @keyframes contract {
                0% { width: 287px }
                100% { width: 50px }
            }
            @keyframes boing {
                0% { width: 50px }
                20% { width: 287px }
                40% { width: 277px }
                60% { width: 287px }
                80% { width: 282px }
                100% { width: 287px }
            }
            @keyframes flashing {
                0% { opacity: 0; }
                50% { opacity: 1; }
                100% { opacity: 0; }
            }
            @keyframes background-flashing-danger {
                0% { background-color: #ffffff }
                50%  { background-color: var(--alert-background-danger) }
                100% { background-color: #ffffff }
            }
            @keyframes background-flashing-warning {
                0% { background-color: #ffffff }
                50%  { background-color: var(--alert-background-warning) }
                100% { background-color: #ffffff }
            }
            i.project-admin {
                font-size: larger;
                color: goldenrod
            }
            i.site-admin {
                font-size: larger;
                color: silver
            }
            table.dataTable > thead .sorting::before, table.dataTable > thead .sorting_asc::before, 
            table.dataTable > thead .sorting_desc::before, table.dataTable > thead .sorting_asc_disabled::before, 
            table.dataTable > thead .sorting_desc_disabled::before,
            table.dataTable > thead .sorting::after, table.dataTable > thead .sorting_asc::after,
            table.dataTable > thead .sorting_desc::after, table.dataTable > thead .sorting_asc_disabled::after,
            table.dataTable > thead .sorting_desc_disabled::after {
                content: "" !important;
                right: auto !important
            }
            table.dataTable thead .sorting::after {
                position: absolute;
                width: 100%;
                height: 100%;
                right: 5px !important;
                top: 0 !important;
                opacity: 0.5 !important;
                background-repeat: no-repeat;
                background-position-x: right;
                background-position-y: center;
                background-size: 16px 16px;
                background-image: url("img/iconmonstr-sort-2.svg")
            }
            table.dataTable thead .sorting_desc::after {
                background-image: url("img/iconmonstr-sort-3.svg") !important
            }
            table.dataTable thead .sorting_asc::after {
                background-image: url("img/iconmonstr-sort-4.svg") !important
            }
            div.dataTables_scrollHeadInner {
                padding-right: 0 !important;
                width: 100% !important
            }
            table.dataTable > thead > tr > th {
                box-sizing: border-box;
            }
            table.dataTable > thead > tr > th:nth-last-of-type(2) {
                width: unset !important
            }
            table.dataTable > thead > tr > th:last-of-type {
                width: 17px !important
            }
            table.dataTable > tbody > tr > td.TintengefrorenerTiefenfrisch, .dts_label {
                display: none !important;
            }
            div.dataTables_scrollBody > table th {
                border-width: 0 !important
            }
            div.dataTables_scrollBody {
                /*min-height: 200px;*/
                height: unset;
            }
            div.dataTables_wrapper > .row:last-of-type {
                margin-top: 24px
            }
            .table-responsive {
                max-height: 400px
            }
            /* Vorladen von Sortierungssymbolen in Tabellen */
            body::after {
                position: absolute;
                width: 0;
                height: 0;
                z-index: -1;
                overflow: hidden;
                content: url("img/iconmonstr-sort-2.svg") url("img/iconmonstr-sort-3.svg") url("img/iconmonstr-sort-4.svg")
            }
            .config-chart-button {
                right: 15px;
                position: absolute;
                z-index: 3;
            }
            .kreiselchen {
                width: 20px;
                height: 20px
            }
            .bg-gray-200 {
                background-color: var(--bs-gray-200, #e9ecef);
                font-weight: 600;
            }
            div.dataTables_wrapper > div.row:last-of-type {
                margin-top: 1rem !important;
            }
            a[data-bs-toggle="pill"]:hover {
                background-color: rgba(var(--bs-primary-rgb), 0.1);
            }
            #newPlantContainer {
                overflow-y: scroll;
            }
            #newPlantContainer h5 {
                font-weight: 600;
            }
            .accordion-flush > .accordion-item > .accordion-header > .accordion-button:focus, .accordion-flush .accordion-button:not(.collapsed) {
                box-shadow: unset;
                color: black
            }
            .accordion-flush > .accordion-item:last-of-type > .accordion-header > .accordion-button:not(.collapsed) {
                border-bottom: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item:first-of-type > .accordion-header > .accordion-button:not(.collapsed) {
                border-top: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item > .accordion-header > .accordion-button {
                background-color: var(--bs-gray-100, #f8f9fa);
                border-left: 1px solid var(--bs-gray-300, #dee2e6);
                border-right: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item:last-of-type > .accordion-header > .accordion-button.collapsed {
                overflow: hidden;
                border-bottom-left-radius: 5px;
                border-bottom-right-radius: 5px;
                border-bottom: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item:last-of-type > .accordion-header > .accordion-button {
                border-bottom-left-radius: 0;
                border-bottom-right-radius: 0;
            }
            .accordion-flush > .accordion-item:last-of-type .accordion-collapse.collapse.show > .accordion-body, .accordion-flush > .accordion-item:last-of-type .accordion-collapse.collapsing > .accordion-body {
                border-bottom-left-radius: 5px;
                border-bottom-right-radius: 5px;
                border-bottom: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item > .accordion-collapse > .accordion-body {
                border-left: 1px solid var(--bs-gray-300, #dee2e6);
                border-right: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item:first-of-type > .accordion-header > .accordion-button {
                overflow: hidden;
                border-top-left-radius: 5px;
                border-top-right-radius: 5px;
                border-top: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item:not(:first-of-type, :last-of-type) .accordion-collapse.collapse.show > .accordion-body, .accordion-flush > .accordion-item:not(:first-of-type, :last-of-type) .accordion-collapse.collapsing > .accordion-body {
                border-top: 1px solid var(--bs-gray-300, #dee2e6)
            }
            .accordion-flush > .accordion-item:first-of-type .accordion-collapse.collapse.show > .accordion-body, .accordion-flush > .accordion-item:first-of-type .accordion-collapse.collapsing > .accordion-body {
                border-top: 1px solid var(--bs-gray-300, #dee2e6)
            }
            #mobile-navbar > ul.dropdown-menu:first-of-type {
                box-shadow: 0 0 5px 1px #0000008a
            }
            ul.nav-pills .nav-link.disabled {
                background-color: var(--bs-gray-100, #f8f9fa) !important;
            }
            table.dataTable.dtr-inline.collapsed > tbody > tr > td.child, table.dataTable.dtr-inline.collapsed > tbody > tr > th.child, table.dataTable.dtr-inline.collapsed > tbody > tr > td.dataTables_empty {
                cursor: default !important
            }
            table.dataTable.dtr-inline.collapsed > tbody > tr > td.child:before, table.dataTable.dtr-inline.collapsed > tbody > tr > th.child:before, table.dataTable.dtr-inline.collapsed > tbody > tr > td.dataTables_empty:before{
                display: none !important
            }
            table.dataTable.dtr-inline.collapsed > tbody > tr > td.dtr-control, table.dataTable.dtr-inline.collapsed > tbody > tr > th.dtr-control {
                position: relative;
                padding-left: 30px;
                cursor: pointer
            }
            table.dataTable.dtr-inline.collapsed > tbody > tr > td.dtr-control:before, table.dataTable.dtr-inline.collapsed > tbody > tr > th.dtr-control:before {
                top: 50%;
                left: 5px;
                height: 1em;
                width: 1em;
                margin-top: -9px;
                display: block;
                position: absolute;
                color: white;
                border: 0.15em solid white;
                border-radius: 1em;
                box-shadow: 0 0 0.2em #444;
                box-sizing: content-box;
                text-align: center;
                text-indent: 0 !important;
                font-family: "Courier New", Courier, monospace;
                line-height: 1em;
                content: "i";
                background-color: #0d6efd;
                font-weight: bold;
            }
            table.dataTable.dtr-inline.collapsed > tbody > tr.parent > td.dtr-control:before, table.dataTable.dtr-inline.collapsed > tbody > tr.parent > th.dtr-control:before {
                content: "-";
                background-color: #d33333
            }
            table.dataTable.dtr-inline.collapsed.compact > tbody > tr > td.dtr-control, table.dataTable.dtr-inline.collapsed.compact > tbody > tr > th.dtr-control {
                padding-left: 27px
            }
            table.dataTable.dtr-inline.collapsed.compact > tbody > tr > td.dtr-control:before, table.dataTable.dtr-inline.collapsed.compact > tbody > tr > th.dtr-control:before {
                left: 4px;
                height: 14px;
                width: 14px;
                border-radius: 14px;
                line-height: 14px;
                text-indent: 3px
            }
            table.dataTable.dtr-column > tbody > tr > td.dtr-control, table.dataTable.dtr-column > tbody > tr > th.dtr-control, table.dataTable.dtr-column > tbody > tr > td.control,
            table.dataTable.dtr-column > tbody > tr > th.control{
                position: relative;
                cursor: pointer
            }
            table.dataTable.dtr-column > tbody > tr > td.dtr-control:before, table.dataTable.dtr-column > tbody > tr > th.dtr-control:before, table.dataTable.dtr-column > tbody > tr > td.control:before,
            table.dataTable.dtr-column > tbody > tr > th.control:before{
                top: 50%;
                left: 50%;
                height: 0.8em;
                width: 0.8em;
                margin-top: -0.5em;
                margin-left: -0.5em;
                display: block;
                position: absolute;
                color: white;
                border: 0.15em solid white;
                border-radius: 1em;
                box-shadow: 0 0 0.2em #444;
                box-sizing: content-box;
                text-align: center;
                text-indent: 0 !important;
                font-family: "Courier New", Courier, monospace;
                line-height: 1em;
                content: "i";
                background-color: #0d6efd;
                font-weight: bold
            }
            table.dataTable.dtr-column > tbody > tr.parent td.dtr-control:before, table.dataTable.dtr-column > tbody > tr.parent th.dtr-control:before, table.dataTable.dtr-column > tbody > tr.parent td.control:before,
            table.dataTable.dtr-column > tbody > tr.parent th.control:before{
                content: "-";
                background-color: #d33333
            }
            table.dataTable > tbody > tr.child {
                padding: 0.5em 1em
            }
            table.dataTable > tbody > tr.child:hover {
                background: transparent !important
            }
            table.dataTable > tbody > tr.child ul.dtr-details{
                display: inline-block;
                list-style-type: none;
                margin: 0;
                padding: 0
            }
            table.dataTable > tbody > tr.child ul.dtr-details > li {
                border-bottom: 1px solid #efefef;
                padding: 0.5em 0
            }
            table.dataTable > tbody > tr.child ul.dtr-details > li:first-child {
                padding-top: 0
            }
            table.dataTable > tbody > tr.child ul.dtr-details > li:last-child {
                border-bottom: none
            }
            table.dataTable > tbody > tr.child span.dtr-title {
                display: inline-block;
                min-width: 75px;
                font-weight: bold
            }
            div.dtr-modal {
                position: fixed;
                box-sizing: border-box;
                top: 0;
                left: 0;
                height: 100%;
                width: 100%;
                z-index: 100;
                padding: 10em 1em
            }
            div.dtr-modal div.dtr-modal-display {
                position: absolute;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
                width: 50%;
                height: 50%;
                overflow: auto;
                margin: auto;
                z-index: 102;
                overflow: auto;
                background-color: #f5f5f7;
                border: 1px solid black;
                border-radius: 0.5em;
                box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6)
            }
            div.dtr-modal div.dtr-modal-content {
                position: relative;
                padding: 1em
            }
            div.dtr-modal div.dtr-modal-close {
                position: absolute;
                top: 6px;
                right: 6px;
                width: 22px;
                height: 22px;
                border: 1px solid #eaeaea;
                background-color: #f9f9f9;
                text-align: center;
                border-radius: 3px;
                cursor: pointer;
                z-index: 12
            }
            div.dtr-modal div.dtr-modal-close:hover{ 
                background-color: #eaeaea
            }
            div.dtr-modal div.dtr-modal-background {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                z-index: 101;
                background: rgba(0, 0, 0, 0.6)
            }
            @media screen and (max-width: 767px) {
                div.dtr-modal div.dtr-modal-display {
                    width: 95%
                }
            }
            div.dtr-bs-modal table.table tr:first-child td {
                border-top: none
            }
            @media only screen and (max-width: 600px) {
                .alert > i {
                    vertical-align: baseline;
                }
                main {
                    padding: 0 2%
                }
                .tab-content {
                    padding: 1rem !important;
                }
                #overviewPanel {
                    grid-auto-rows: minmax(300px, auto);
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr))
                }
                #historyGalleryPanel {
                    grid-auto-rows: minmax(300px, auto);
                    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                }
                .historyGalleryItem > div:first-of-type > div:first-of-type {
                    max-width: 300px;
                }
                #overPlantActionContainer {
                    flex-direction: column;
                    align-items: stretch !important;
                }
                #overPlantActionContainer > * {
                    margin: 0.5rem 0 0 0 !important;
                }
                table.dataTable thead > tr > th {
                    font-weight: 600;
                }
                #first-navbar, #second-navbar {
                    display: none;
                }
                #mobile-navbar {
                    display: block;
                    margin: auto 20px auto auto;
                }
                #newPlantMenu {
                    flex-direction: column;
                }
                #newPlantNavigation {
                    width: 100%
                }
                #newPlantContainer *:not(input) {
                    padding-left: 0;
                    margin-left: 0;
                }
                #newPlantContainer {
                    width: 100%;
                    margin-top: 1rem;
                    border: 1px solid var(--bs-gray-300, #dee2e6);
                    border-radius: 4px;
                }
                .formContainer {
                    flex-direction: column;
                }
                #plantsAdminCreationContainer > div:first-of-type > * {
                    margin: 5px 0 0 0 !important;
                }
                td.dtr-control {
                    vertical-align: middle;
                }
                table.dataTable > tbody > tr:first-of-type > td:first-of-type {
                    border-top-left-radius: 1px;
                    border-top-right-radius: 1px;
                    overflow: hidden;
                }
                .accordion-flush > .accordion-item > .accordion-collapse > .accordion-body > div.row > div.col-md-8:not(:first-of-type, :last-of-type) {
                    margin-top: 0.5rem;
                }
                .accordion-flush > .accordion-item > .accordion-collapse > .accordion-body > div.row > div.col-md-4 {
                    margin: auto auto 0 auto
                }
                *:not(h1, h2, h3, h4, h5, h6) {
                    font-size: 14px !important;
                }
                #editPlantHeader {
                    margin-bottom: 0 !important;
                }
            }
            /* Small devices (portrait tablets and large phones, 600px and up) */
            @media only screen and (min-width: 600px) {
                #newPlantContainer * {
                    padding-left: 0;
                    margin-left: 5px;
                }
                #first-navbar, #second-navbar {
                    display: none;
                }
                #mobile-navbar {
                    display: block;
                    margin: auto 15px auto auto
                }
                #newPlantMenu {
                    flex-direction: column;
                }
                #newPlantNavigation {
                    width: 100%
                }
                #newPlantContainer * {
                    padding-left: 0;
                    margin-left: 0;
                }
                #newPlantContainer {
                    width: 100%
                }
                #plantsAdminCreationContainer > div:first-of-type {
                    flex-direction: column;
                }
                #plantsAdminCreationContainer > div:first-of-type > * {
                    margin: 5px 0 0 0 !important;
                }
                #plantsAdminTableResponsive, #logsAdminTableResponsive, #plantProgramsAdminTableResponsive, #pumpsAdminTableResponsive, #userAccountsAdminTableResponsive, #eventsAdminTableResponsive, #logsAdminTableResponsive {
                    overflow-x: scroll;
                }
            }
            /* Medium devices (landscape tablets, 768px and up) */
            @media only screen and (min-width: 768px) {
                #first-navbar, #second-navbar {
                    display: flex;
                }
                #newPlantMenu {
                    flex-direction: row;
                }
                #mobile-navbar {
                    display: none;
                }
                #plantsAdminTableResponsive, #logsAdminTableResponsive, #plantProgramsAdminTableResponsive, #pumpsAdminTableResponsive, #userAccountsAdminTableResponsive, #eventsAdminTableResponsive, #logsAdminTableResponsive {
                    overflow-x: auto;
                }
            }
            /* Large devices (laptops/desktops, 992px and up) */
            @media only screen and (min-width: 992px) {
                #first-navbar, #second-navbar {
                    display: flex;
                }
                #newPlantMenu {
                    flex-direction: row;
                }
                #mobile-navbar {
                    display: none;
                }
                #plantsAdminTableResponsive, #logsAdminTableResponsive, #plantProgramsAdminTableResponsive, #pumpsAdminTableResponsive, #userAccountsAdminTableResponsive, #eventsAdminTableResponsive, #logsAdminTableResponsive {
                    overflow-x: auto;
                }
            }
            /* Extra large devices (large laptops and desktops, 1200px and up) */
            @media only screen and (min-width: 1200px) {
                #first-navbar, #second-navbar {
                    display: flex;
                }
                #newPlantMenu {
                    flex-direction: row;
                }
                #mobile-navbar {
                    display: none;
                }
                #plantsAdminTableResponsive, #logsAdminTableResponsive, #plantProgramsAdminTableResponsive, #pumpsAdminTableResponsive, #userAccountsAdminTableResponsive, #eventsAdminTableResponsive, #logsAdminTableResponsive {
                    overflow-x: auto;
                }
            }
        </style>
    </head>
    <body class="m-0 p-0 overflow-hidden">
        <div id="body-overlay">
            <div class="spinner-border mr-2" style="border-width: 5px; color: var(--bs-gray-500)"></div>
        </div>
        <header>
            <nav class="navbar navbar-expand-sm p-0" id="navigation">
                <a class="navbar-brand ms-3 mb-0" href="#">
                    <div id="logo"></div>
                </a>
                <ul class="navbar-nav" id="first-navbar">
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#systemInfos"><i class="fas fa-hdd"></i> Systeminformationen</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#staff"><i class="fas fa-users"></i> Mitwirkende</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#about"><i class="fas fa-info-circle"></i> Über</a>
                    </li>
                </ul>
                <ul class="navbar-nav mt-auto me-2 mb-auto ms-auto" id="second-navbar">
                    <li class="nav-item">
                        <a class="nav-link rounded-3" href="#login"><i class="fas fa-sign-in-alt"></i> Anmelden</a>
                    </li>
                    <!-- Es darf immer nur eine Aktion möglich sein -->
                    <li class="nav-item d-none">
                        <a class="nav-link rounded-3" href="#"><i class="fas fa-sign-out-alt"></i> Abmelden</a>
                    </li>
                </ul>
                <div class="dropdown" id="mobile-navbar">
                    <button type="button" class="btn btn-outline-light dropdown-toggle" data-bs-toggle="dropdown" style="box-shadow: 0 0 1px 0 black">
                        <i class="fas fa-bars"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="#systemInfos"><i class="fas fa-hdd"></i> Systeminformationen</a></li>
                        <li><a class="dropdown-item" href="#staff"><i class="fas fa-users"></i> Mitwirkende</a></li>
                        <li><a class="dropdown-item" href="#about"><i class="fas fa-info-circle"></i> Über</a></li>
                        <li><div class="dropdown-divider"></div></li> 
                        <li><a class="dropdown-item" href="#login"><i class="fas fa-sign-in-alt"></i> Anmelden</a></li>
                    </ul>
                </div> 
            </nav>
        </header>
        <main>
            <div class="row justify-content-center">
                <div class="mt-4 p-0" id="panel">
                    <ul class="nav nav-tabs" id="tabNavigation">
                        <li class="nav-item">
                          <a class="nav-link active" data-bs-toggle="tab" href="#overview">Übersicht</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#historyGallery">Bildergalerie</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" data-bs-toggle="tab" href="#administration">Administration</a>
                          <!-- class="nav-link disabled" -->
                        </li>
                        <!--<li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#about">About</a>
                        </li>-->
                    </ul>
                    <div class="tab-content p-4 border">
                        <div class="tab-pane active" id="overview">
                            <div class="d-flex align-content-center align-items-center" id="overPlantActionContainer">
                                <label for="plantSelection">Pflanze:</label>
                                <select class="form-select ms-1 w-auto d-inline-block" id="plantSelection"></select>
                                <label for="plantProgramSelection" class="ms-2">Programm:</label>
                                <select class="form-select ms-1 w-auto d-inline-block" id="plantProgramSelection"></select>
                                <button type="button" class="btn btn-success ms-1 align-baseline"><i class="fas fa-play"></i></button>
                                <!--<button type="button" class="btn btn-warning ms-2"><i class="fas fa-pause"></i></button>-->
                            </div>
                            <div id="overviewPanel" class="mt-3">
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-co2">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Co²-Gehalt</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="co2" data-chart-title="Co²" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="co2-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-temperature">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Temperatur</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="temperature" data-chart-title="Temperatur" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="temperature-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-salinity">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Salzgehalt</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="salinity" data-chart-title="Salzgehalt" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="salinity-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-ph">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>pH-Wert</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="ph" data-chart-title="pH-Wert" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="ph-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-waterlevel">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Wasserstand</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="waterlevel" data-chart-title="Wasserstand" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="waterlevel-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-ventilation">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Belüftung oder Luftfeuchtigkeit?</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="ventilation" data-chart-title="Belüftung" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="ventilation-chart-current"></canvas>
                                    </div>
                                </section>
                                <section class="rounded-3 lol d-flex align-items-center align-content-center flex-column" id="section-brightness">
                                    <div class="position-relative w-100 text-center pt-2">
                                        <span>Beleuchtung</span>
                                        <button class="btn btn-xs btn-secondary config-chart-button" data-chart="brightness" data-chart-title="Beleuchtung" data-bs-toggle="modal" data-bs-target="#chartHistoryModal"><i class="fas fa-wrench"></i></button>
                                    </div>   
                                    <div class="position-relative w-100 h-100">
                                        <div class="chart-overlay">
                                            <h2><i class="fas fa-info-circle"></i> Noch keine Daten</h2>
                                        </div>
                                        <canvas id="brightness-chart-current"></canvas>
                                    </div>
                                </section>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="administration">
                            <section id="plants-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-plants-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-seedling"></i> Pflanzen</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-plants-actions" class="collapse hide" data-bs-parent="#plants-accordion">
                                        <div class="card-body">
                                            <ul class="nav nav-pills">
                                                <li class="nav-item">
                                                    <a class="nav-link active" data-bs-toggle="pill" href="#plantsAdminOverviewContainer">Übersicht</a>
                                                </li>
                                                <li class="nav-item">
                                                    <!--<a class="nav-link" data-bs-toggle="pill" href="#plantsAdminCategoriesContainer"></a>-->
                                                    <a class="nav-link" data-bs-toggle="pill" href="#plantsAdminCreationContainer">Erstellen</a>
                                                </li>
                                            </ul>
                                            <div class="tab-content pt-3 tab-content-simple">
                                                <div class="tab-pane active" id="plantsAdminOverviewContainer">
                                                    <button type="button" class="ms-1 btn btn-success align-top"><i class="fas fa-sync"></i></button>
                                                    <div class="mt-3 pt-1" id="plantsAdminTableResponsive">
                                                        <table class="table table-sm w-100" id="plantsAdminTable">
                                                            <thead>
                                                                <tr>
                                                                    <th>ID</th>
                                                                    <th>Bezeichnung</th>
                                                                    <th>Eigenschaften</th>
                                                                    <th>Optionen</th>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody></tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="tab-pane" id="plantsAdminCreationContainer">
                                                    <div class="d-flex formContainer">
                                                        <label for="plantsAdminPlantSelection" class="col-form-label">Vorlage:</label>
                                                        <select class="form-select ms-1 w-auto d-inline-block" id="plantsAdminPlantSelection" data-old="0"></select>
                                                        <button type="button" class="ms-1 btn btn-primary align-top" id="applyPlantTemplateButton" disabled="disabled"><i class="fas fa-sync"></i> Übernehmen</button>
                                                    </div>
                                                    <div class="d-flex mt-3" id="newPlantMenu">
                                                        <div id="newPlantNavigation" class="list-group col-md-2 position-relative align-self-start">
                                                            <a class="list-group-item list-group-item-action" href="#newPlantGeneralSection">Allgemein</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantCo2Section">Co²-Gehalt</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantTemperatureSection">Temperatur</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantphSection">pH-Wert</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantSalinitySection">Salzgehalt</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantHumiditySection">Luftfeuchtigkeit</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantWaterlevelSection">Wasserstand</a>
                                                            <a class="list-group-item list-group-item-action" href="#newPlantLightingSection">Beleuchtung</a>
                                                        </div>
                                                        <div data-bs-spy="scroll" data-bs-target="#newPlantNavigation" data-bs-offset="0" class="p-3 col-md-10 position-relative" id="newPlantContainer">
                                                            <form>
                                                                <div class="row align-items-center">
                                                                    <h5 id="newPlantGeneralSection" class="col-md-12">Allgemein</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantDescriptionInput" class="col-form-label col-md-2">Bezeichnung:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantDescriptionInput" aria-label="Bezeichnung" aria-describedby="newPlantDescriptionInput">
                                                                    <label for="newPlantIdInput" class="col-form-label col-md-2">ID:</label>
                                                                    <input type="text" class="form-control col-md-2 w-auto" id="newPlantIdInput" disabled="disabled">
                                                                    <div class="d-flex align-items-center align-content-center col-md-2">
                                                                        <input class="form-check-input" type="checkbox" id="newPlantAutoIDCheck" value="1" checked="checked" onclick="toggleFormState('#newPlantIdInput')">
                                                                        <label class="form-check-label ms-1" id="newPlantAutoIDCheckLabel" for="newPlantAutoIDCheck">Automatisch</label>
                                                                    </div>
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantCo2Section" class="col-md-12">Co²-Gehalt</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantCo2SetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantCo2SetpointInput" aria-label="Co²-Gehalt Sollwert" aria-describedby="newPlantCategoryCo2InputSetpoint">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantCo2UpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantCo2UpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Co²-Gehalt" aria-describedby="newPlantCo2UpperControlLimitInput">
                                                                    <label for="newPlantCo2LowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantCo2LowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Co²-Gehalt" aria-describedby="newPlantCo2LowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantCo2UpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantCo2UpperWarningLimitInput" aria-label="Obere Warngrenze für Co²-Gehalt" aria-describedby="newPlantCo2UpperWarningLimitInput">
                                                                    <label for="newPlantCo2LowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantCo2LowerWarningLimitInput" aria-label="Untere Warngrenze für Co²-Gehalt" aria-describedby="newPlantCo2LowerWarningLimitInput">
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantTemperatureSection" class="col-md-12">Temperatur</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantTemperatureSetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantTemperatureSetpointInput" aria-label="Sollwert für Temperatur" aria-describedby="newPlantTemperatureSetpointInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantTemperatureUpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantTemperatureUpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Temperatur" aria-describedby="newPlantTemperatureUpperControlLimitInput">
                                                                    <label for="newPlantTemperatureLowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantTemperatureLowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Temperatur" aria-describedby="newPlantTemperatureLowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantTemperatureUpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantTemperatureUpperWarningLimitInput" aria-label="Obere Warngrenze für Temperatur" aria-describedby="newPlantTemperatureUpperWarningLimitInput">
                                                                    <label for="newPlantTemperatureLowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantTemperatureLowerWarningLimitInput" aria-label="Untere Warngrenze für Temperatur" aria-describedby="newPlantTemperatureLowerWarningLimitInput">
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantphSection" class="col-md-12">pH-Wert</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantPhSetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantPhSetpointInput" aria-label="Sollwert für Temperatur" aria-describedby="newPlantPhSetpointInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantPhUpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantPhUpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Temperatur" aria-describedby="newPlantPhUpperControlLimitInput">
                                                                    <label for="newPlantPhLowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantPhLowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Temperatur" aria-describedby="newPlantPhLowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantPhUpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantPhUpperWarningLimitInput" aria-label="Obere Warngrenze für Temperatur" aria-describedby="newPlantPhUpperWarningLimitInput">
                                                                    <label for="newPlantPhLowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantPhLowerWarningLimitInput" aria-label="Untere Warngrenze für Temperatur" aria-describedby="newPlantPhLowerWarningLimitInput">
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantSalinitySection" class="col-md-12">Salzgehalt</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantSalinitySetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantSalinitySetpointInput" aria-label="Sollwert für Salzgehalt" aria-describedby="newPlantSalinitySetpointInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantSalinityUpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantSalinityUpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Salzgehalt" aria-describedby="newPlantSalinityUpperControlLimitInput">
                                                                    <label for="newPlantSalinityLowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantSalinityLowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Salzgehalt" aria-describedby="newPlantSalinityLowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantSalinityUpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantSalinityUpperWarningLimitInput" aria-label="Obere Warngrenze für Salzgehalt" aria-describedby="newPlantSalinityUpperWarningLimitInput">
                                                                    <label for="newPlantSalinityLowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantSalinityLowerWarningLimitInput" aria-label="Untere Warngrenze für Salzgehalt" aria-describedby="newPlantSalinityLowerWarningLimitInput">
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantHumiditySection" class="col-md-12">Luftfeuchtigkeit</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantHumiditySetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantHumiditySetpointInput" aria-label="Sollwert für Luftfeuchtigkeit" aria-describedby="newPlantHumiditySetpointInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantHumidityUpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantHumidityUpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Luftfeuchtigkeit" aria-describedby="newPlantHumidityUpperControlLimitInput">
                                                                    <label for="newPlantHumidityLowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantHumidityLowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Luftfeuchtigkeit" aria-describedby="newPlantHumidityLowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantHumidityUpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantHumidityUpperWarningLimitInput" aria-label="Obere Warngrenze für Luftfeuchtigkeit" aria-describedby="newPlantHumidityUpperWarningLimitInput">
                                                                    <label for="newPlantHumidityLowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantHumidityLowerWarningLimitInput" aria-label="Untere Warngrenze für Luftfeuchtigkeit" aria-describedby="newPlantHumidityLowerWarningLimitInput">
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantWaterlevelSection" class="col-md-12">Wasserstand</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantWaterlevelSetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantWaterlevelSetpointInput" aria-label="Sollwert für Wasserstand" aria-describedby="newPlantWaterlevelSetpointInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantWaterlevelUpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantWaterlevelUpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Wasserstand" aria-describedby="newPlantWaterlevelUpperControlLimitInput">
                                                                    <label for="newPlantWaterlevelLowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantWaterlevelLowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Wasserstand" aria-describedby="newPlantWaterlevelLowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantWaterlevelUpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantWaterlevelUpperWarningLimitInput" aria-label="Obere Warngrenze für Wasserstand" aria-describedby="newPlantWaterlevelUpperWarningLimitInput">
                                                                    <label for="newPlantWaterlevelLowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantWaterlevelLowerWarningLimitInput" aria-label="Untere Warngrenze für Wasserstand" aria-describedby="newPlantWaterlevelLowerWarningLimitInput">
                                                                </div>
                                                                <div class="row mt-4 align-items-center">
                                                                    <h5 id="newPlantLightingSection" class="mt-4 col-md-12">Beleuchtung</h5>
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantLightingSetpointInput" class="col-form-label col-md-2">Sollwert:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantLightingSetpointInput" aria-label="Sollwert für Wasserstand" aria-describedby="newPlantLightingSetpointInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantLightingUpperControlLimitInput" class="col-form-label col-md-2">Obere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantLightingUpperControlLimitInput" aria-label="Obere Eingriffsgrenze für Wasserstand" aria-describedby="newPlantLightingUpperControlLimitInput">
                                                                    <label for="newPlantLightingLowerControlLimitInput" class="col-form-label col-md-2">Untere Eingriffsgrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantLightingLowerControlLimitInput" aria-label="Untere Eingriffsgrenze für Wasserstand" aria-describedby="newPlantLightingLowerControlLimitInput">
                                                                </div>
                                                                <div class="row mt-2 align-items-center">
                                                                    <label for="newPlantLightingUpperWarningLimitInput" class="col-form-label col-md-2">Obere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantLightingUpperWarningLimitInput" aria-label="Obere Warngrenze für Wasserstand" aria-describedby="newPlantLightingUpperWarningLimitInput">
                                                                    <label for="newPlantLightingLowerWarningLimitInput" class="col-form-label col-md-2" >Untere Warngrenze:</label>
                                                                    <input required type="text" class="form-control w-auto d-inline-block col-md-2" id="newPlantLightingLowerWarningLimitInput" aria-label="Untere Warngrenze für Wasserstand" aria-describedby="newPlantLightingLowerWarningLimitInput">
                                                                </div>
                                                            </form>
                                                        </div>
                                                        <div class="mt-4 d-flex align-content-center align-items-center justify-content-end" style="gap: 5px">
                                                            <button class="btn btn-success" id="savePlantButton"><i class="fas fa-plus"></i> Hinzufügen</button>
                                                            <button class="btn btn-danger" id="discardPlantButton" data-confirmation-sender="discardEditedPlant"><i class="fas fa-trash-alt"></i> Löschen</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="plants-programs-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-plants-programs-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-cubes"></i> Pflanzenprogramme</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-plants-programs-actions" class="collapse hide" data-bs-parent="#plants-programs-actions-accordion">
                                        <div class="card-body">
                                            <div class="d-flex formContainer">
                                                <label for="plantProgramsAdminPlantSelection">Pflanze:</label>
                                                <select class="form-select w-auto d-inline-block" id="plantProgramsAdminPlantSelection" data-old="0">
                                                    <option value="0">Alle</option>
                                                </select>
                                            </div>
                                            <button type="button" class="ms-1 btn btn-primary align-top"><i class="fas fa-sync"></i></button>
                                            <div class="mt-3 pt-1" id="plantProgramsAdminTableResponsive">
                                                <table class="table table-sm w-100" id="plantProgramsAdminTable">
                                                    <thead>
                                                        <tr>
                                                            <th></th>
                                                            <th>ID</th>
                                                            <th>Name</th>
                                                            <th>Beschreibung</th>
                                                            <th>Optionen</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="pump-actions-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-pump-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-fan"></i> Pumpensteuerung</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-pump-actions" class="collapse hide" data-bs-parent="#pump-actions-accordion">
                                        <div class="card-body">
                                            <div class="mt-3 pt-1" id="pumpsAdminTableResponsive">
                                                <table class="table table-sm w-100" id="pumpsAdminTable">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Leistung</th>
                                                        <th>UPM</th>
                                                        <th>Status</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <!--
                            <section id="self-test-actions-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-self-test-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-heartbeat"></i> Selbsttests</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-self-test-actions" class="collapse hide" data-bs-parent="#self-test-actions-accordion">
                                        <div class="card-body">
                                        Lorem ipsum..
                                        </div>
                                    </div>
                                </div>
                            </section>-->
                            <section id="user-actions-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-user-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-user-circle"></i> Benutzerkonten</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-user-actions" class="collapse hide" data-bs-parent="#actuator-user-accordion">
                                        <div class="card-body">
                                            <div class="mt-3 pt-1" id="userAccountsAdminTableResponsive">
                                                <table class="table table-sm w-100" id="userAccountsAdminTable">
                                                    <thead>
                                                        <tr>
                                                            <th>Echter Name</th>
                                                            <th>Benutzername</th>
                                                            <th>Erstellt</th>
                                                            <th>Status</th>
                                                            <th>Optionen</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                <!-- Projektadministrator kann zusätzlich Benutzer verwalten.
                                                    Oder sollen Administratoren andere Administratoren bearbeiten
                                                    können, wie sie wollen?
                                                -->
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!--
                                            <div class="d-flex align-items-start mt-3">
                                                <div>
                                                    <div><i class="fas fa-chess-king project-admin"></i> Projektadministrator</div>
                                                    <div><i class="fas fa-chess-rook site-admin"></i> Seitenadministrator</div>
                                                </div>
                                            </div>
                                        -->
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="events-accordion" class="mb-3">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-events-actions">
                                          <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-newspaper"></i> Ereignisse</h4>
                                          <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-events-actions" class="collapse hide" data-bs-parent="#events-accordion">
                                        <div class="card-body">
                                            <div class="d-flex formContainer">
                                                <label for="eventsAdminCategorySelection">Kategorie:</label>
                                                <select class="form-select w-auto d-inline-block" id="eventsAdminCategorySelection" data-old="0">
                                                    <option value="0">Alles</option>
                                                    <option value="1">Pflanzen</option>
                                                    <option value="2">Pumpen</option>
                                                </select>
                                            </div>
                                            <button type="button" class="ms-1 btn btn-primary align-top"><i class="fas fa-sync"></i></button>
                                            <div class="mt-3 pt-1" id="eventsAdminTableResponsive">
                                                <table class="table table-sm w-100" id="eventsAdminTable">
                                                    <thead>
                                                        <tr>
                                                            <th></th>
                                                            <th>Attribut</th>
                                                            <th>Bedingung</th>
                                                            <th>Aktion</th>
                                                            <th>Optionen</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section id="logs-accordion">
                                <div class="card">
                                    <div class="card-header">
                                        <a class="btn d-flex align-items-center" data-bs-toggle="collapse" href="#collapse-logs-actions">
                                            <h4 class="ms-0 mt-auto me-auto mb-auto"><i class="fas fa-scroll"></i> Logs</h4>
                                            <i class="fas fa-chevron-down ms-auto mt-auto me-2 mb-auto"></i>
                                        </a>
                                    </div>
                                    <div id="collapse-logs-actions" class="collapse hide" data-bs-parent="#logs-accordion">
                                        <div class="card-body">
                                            <label for="logAdminCategorySelection" class="form-label col-form-label">Kategorie:</label>
                                            <select class="form-select w-auto d-inline-block ms-1" id="logsAdminCategorySelection" data-old="0">
                                                <option value="0">Alles</option>
                                                <option value="1">Aktoren</option>
                                                <option value="2">Pumpen</option>
                                                <!--<option value="">Selbsttests</option>-->
                                                <option value="3">Benutzeraktivitäten</option>
                                                <option value="4">Ereignisse</option>
                                            </select>
                                            <button type="button" class="ms-1 btn btn-primary align-top"><i class="fas fa-sync"></i></button>
                                            <div class="mt-3 pt-1" id="logsAdminTableResponsive">
                                                <table class="table table-sm w-100" id="logsAdminTable">
                                                    <thead>
                                                        <tr>
                                                            <th></th>
                                                            <th>Zeitpunkt</th>
                                                            <th>Nachricht</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                        <div class="tab-pane fade" id="historyGallery">
                            <div class="formContainer">
                                <label for="historyGalleryTimespanSelect">Zeitraum:</label>
                                <select id="historyGalleryTimespanSelect">
                                    <option value="0">Gesamt</option>
                                    <option value="1">00:00-06:00 Uhr</option>
                                    <option value="2">06:00-12:00 Uhr</option>
                                </select>
                                <div id="historyGalleryPanel" class="mt-3">
                                    <!-- mit js füllen -->
                                    <div class="historyGalleryItem d-flex flex-column p-1" onclick="showHistoryGalleryImage('test1.jpg')">
                                        <div>
                                            <div class="rounded-3"></div>
                                        </div>
                                        <article><span class="text-secondary">verdammt</span><br>01.01.1970, 11:11:11 Uhr</article>
                                    </div>
                                    <!--
                                    <div class="d-flex flex-column rounded-3 p-1" onclick="showHistoryGalleryImage('test2.jpg')">
                                        <div style="background: url('img/test2.jpg') no-repeat left top/100% 100%; flex: 0 1 100%" class="rounded-3"></div>
                                        <article><span class="text-secondary">verdammt</span><br>01.01.1970, 11:11:11 Uhr</article>
                                    </div>
                                    <div class="d-flex flex-column rounded-3 p-1" onclick="showHistoryGalleryImage('test3.jpg')">
                                        <div style="background: url('img/test3.jpg') no-repeat left top/100% 100%; flex: 0 1 100%" class="rounded-3"></div>
                                        <article><span class="text-secondary">verdammt</span><br>01.01.1970, 11:11:11 Uhr</article>
                                    </div>
                                -->
                                <div class="d-flex flex-column rounded-3 p-1" onclick="showHistoryGalleryImage('test2.jpg')">
                                    <div style="background: url('img/test2.jpg') no-repeat left top/100% 100%; flex: 0 1 100%" class="rounded-3"></div>
                                    <article><span class="text-secondary">verdammt</span><br>01.01.1970, 11:11:11 Uhr</article>
                                </div>
                                <div class="d-flex flex-column rounded-3 p-1" onclick="showHistoryGalleryImage('test3.jpg')">
                                    <div style="background: url('img/test3.jpg') no-repeat left top/100% 100%; flex: 0 1 100%" class="rounded-3"></div>
                                    <article><span class="text-secondary">verdammt</span><br>01.01.1970, 11:11:11 Uhr</article>
                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <footer></footer>
        <div class="modal fade" id="editUserModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">"Benutzer" bearbeiten</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Benutzername darf nur von Projektadmins verändert werden -->
                        <div>
                            <label for="usernameInput" class="form-label">Benutzername:</label>
                            <input type="text" class="form-control" id="usernameInput" placeholder="Benutzername eingeben" readonly="readonly">
                        </div>
                        <div class="mt-3">
                            <label for="usernameSurnameInput" class="form-label">Nachname:</label>
                            <input type="text" class="form-control" id="usernameSurnameInput" placeholder="Nachnamen eingeben">
                        </div>
                        <div class="mt-3">
                            <label for="usernameFornameInput" class="form-label">Vorname:</label>
                            <input type="text" class="form-control" id="usernameFornameInput" placeholder="Vornamen eingeben">
                        </div>
                        <!-- Eigenes Passwort darf nur von Projektadmins und vom jeweiligen Benutzer geändert werden -->
                        <div class="mt-3">
                            <label for="oldPasswordInput" class="form-label">Altes Passwort:</label>
                            <input type="password" class="form-control" id="oldPasswordInput" placeholder="Altes Passwort eingeben">
                        </div>
                        <div class="mt-3">
                            <label for="newPasswordInput" class="form-label">Neues Passwort:</label>
                            <input type="password" class="form-control" id="newPasswordInput" placeholder="Neues Passwort eingeben">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary"><span class="spinner-border spinner-border-sm"></span> Speichern</button>
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Abbrechen</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="chartHistoryModal">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"><span id="chartHistoryElementTitle"></span>-Verlauf</h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="nav nav-pills">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="pill" href="#lol">Statistik</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="pill" href="#lolo">Aktionen</a>
                                <!-- class="nav-link disabled" -->
                            </li>
                        </ul>
                        <div class="tab-content pt-3 tab-content-simple">
                            <div class="tab-pane active" id="lol">
                                <div class="d-inline-flex align-items-center mb-3">
                                    <label for="historyTimespan">Zeitraum:</label>
                                    <select id="historyTimespan" class="form-select ms-2">
                                        <option value="1">Letzte Stunde</option>
                                        <option value="3">Letzte 3 Stunden</option>
                                        <option value="6">Letzte 6 Stunden</option>
                                        <option value="12">Letzte 12 Stunden</option>
                                        <option value="24">Letzte 24 Stunden</option>
                                    </select>
                                </div>
                                <section id="history" class="w-100" style="height:60vh">
                                    <canvas id="charts-history"></canvas>
                                </section>
                            </div>
                            <div class="tab-pane fade" id="lolo">
                                <h2>Ja spinnt der Beppi!</h2>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Schließen</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="mainModal">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title"></h4>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>